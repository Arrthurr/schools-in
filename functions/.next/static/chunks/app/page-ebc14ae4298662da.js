try{!function(){const e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="5bb02ff1-197b-4efe-a875-c5741d69f948",e._sentryDebugIdIdentifier="sentry-dbid-5bb02ff1-197b-4efe-a875-c5741d69f948")}()}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{27762:function(e,t,r){Promise.resolve().then(r.t.bind(r,72972,23)),Promise.resolve().then(r.bind(r,92406)),Promise.resolve().then(r.bind(r,78584))},79205:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});const n=r(2265);const a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{const t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},l=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};const c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const d=(0,n.forwardRef)((e,t)=>{const{color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:d="",children:u,iconNode:m,...f}=e;return(0,n.createElement)("svg",{ref:t,...c,width:a,height:a,stroke:r,strokeWidth:i?24*Number(s)/Number(a):s,className:o("lucide",d),...!u&&!l(f)&&{"aria-hidden":"true"},...f},[...m.map(e=>{const[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{const r=(0,n.forwardRef)((r,s)=>{const{className:l,...c}=r;return(0,n.createElement)(d,{ref:s,iconNode:t,className:o("lucide-".concat(a(i(e))),"lucide-".concat(e),l),...c})});return r.displayName=i(e),r}},51817:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});const n=(0,r(79205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},92406:function(e,t,r){"use strict";r.d(t,{LoginForm:function(){return x}});const n=r(57437),a=r(2265),s=r(13590),i=r(29501),o=r(36900),l=r(40279),c=r(80670),d=r(27638),u=r(95937),m=r(54761),f=r(67205),g=r(1469);const h=o.Ry({email:o.Z_().email({message:"Invalid email address."}),password:o.Z_().min(6,{message:"Password must be at least 6 characters."})});function x(){const[e,t]=(0,a.useState)(null),[r,o]=(0,a.useState)(!1),{trackLogin:x,trackError:b}=(0,g.z)(),{announce:p}=(0,f.qg)(),y=(0,a.useId)(),w=(0,a.useId)(),v=(0,i.cI)({resolver:(0,s.F)(h),defaultValues:{email:"",password:""}}),j=async e=>{o(!0),t(null);const r=performance.now();try{await (0,d.Ry)(e.email,e.password),performance.now(),x("email"),p("Successfully signed in","polite")}catch(a){const e=performance.now()-r,n=a.message;b(Error("Email login failed: ".concat(n)),{login_method:"email",login_duration:e,error_code:a.code},"medium"),t(n),p("Sign in failed: ".concat(n),"assertive")}finally{o(!1)}},N=async()=>{o(!0),t(null);const e=performance.now();try{await (0,d.qj)(),performance.now(),x("google"),p("Successfully signed in with Google","polite")}catch(a){const r=performance.now()-e,n=a.message;b(Error("Google login failed: ".concat(n)),{login_method:"google",login_duration:r,error_code:a.code},"medium"),t(n),p("Google sign in failed: ".concat(n),"assertive")}finally{o(!1)}};return(0,n.jsxs)("div",{className:"w-full space-y-4 sm:space-y-6",children:[(0,n.jsx)(c.l0,{...v,children:(0,n.jsxs)("form",{onSubmit:v.handleSubmit(j),className:"space-y-4","aria-labelledby":"".concat(y,"-title"),"aria-describedby":e?w:void 0,noValidate:!0,children:[(0,n.jsx)(f.uy,{children:(0,n.jsx)("h2",{id:"".concat(y,"-title"),children:"Sign in to your account"})}),(0,n.jsx)(c.Wi,{control:v.control,name:"email",render:e=>{const{field:t}=e;return(0,n.jsxs)(c.xJ,{children:[(0,n.jsx)(c.lX,{className:"text-sm sm:text-base",children:"Email"}),(0,n.jsx)(c.NI,{children:(0,n.jsx)(l.I,{type:"email",placeholder:"Enter your email",className:"touch-target text-base sm:text-sm",autoComplete:"email","aria-describedby":v.formState.errors.email?"".concat(t.name,"-error"):void 0,...t})}),(0,n.jsx)(c.zG,{id:v.formState.errors.email?"".concat(t.name,"-error"):void 0})]})}}),(0,n.jsx)(c.Wi,{control:v.control,name:"password",render:e=>{const{field:t}=e;return(0,n.jsxs)(c.xJ,{children:[(0,n.jsx)(c.lX,{className:"text-sm sm:text-base",children:"Password"}),(0,n.jsx)(c.NI,{children:(0,n.jsx)(l.I,{type:"password",placeholder:"Enter your password",className:"touch-target text-base sm:text-sm",autoComplete:"current-password","aria-describedby":v.formState.errors.password?"".concat(t.name,"-error"):void 0,...t})}),(0,n.jsx)(c.zG,{id:v.formState.errors.password?"".concat(t.name,"-error"):void 0})]})}}),e&&(0,n.jsxs)(u.bZ,{variant:"destructive",className:"text-sm",role:"alert",id:w,children:[(0,n.jsx)(u.Cd,{children:"Error"}),(0,n.jsx)(u.X,{className:"break-words",children:e})]}),(0,n.jsx)(m.fl,{type:"submit",className:"w-full touch-target text-base sm:text-sm micro-scale",isLoading:r,loadingText:"Signing In...","aria-describedby":e?w:void 0,children:"Sign In"})]})}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,n.jsx)("span",{className:"w-full border-t"})}),(0,n.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,n.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),(0,n.jsx)(m.fl,{variant:"outline",className:"w-full touch-target text-base sm:text-sm micro-scale",onClick:N,isLoading:r,loadingText:"Connecting...","aria-label":"Sign in with Google OAuth",children:"Sign in with Google"})]})}},54761:function(e,t,r){"use strict";r.d(t,{TK:function(){return i},fl:function(){return o}});const n=r(57437);r(2265);const a=r(93448),s=r(51817);function i(e){let{size:t="md",variant:r="primary",showText:i=!1,text:o="Loading...",className:l,...c}=e,d={primary:"text-brand-primary",secondary:"text-muted-foreground",muted:"text-gray-400"};return(0,n.jsxs)("div",{className:(0,a.cn)("flex items-center justify-center",i&&"space-x-2",l),...c,children:[(0,n.jsx)(s.Z,{className:(0,a.cn)("animate-spin",{sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"}[t],d[r])}),i&&(0,n.jsx)("span",{className:(0,a.cn)("font-medium",{sm:"text-sm",md:"text-base",lg:"text-lg"}[t],d[r]),children:o})]})}function o(e){const{isLoading:t,children:r,loadingText:s,className:o,disabled:l,size:c="md",variant:d="default",...u}=e;return(0,n.jsxs)("button",{className:(0,a.cn)({default:"btn-brand-primary",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-brand-primary underline-offset-4 hover:underline"}[d],"relative flex items-center justify-center","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed",t&&"cursor-not-allowed",o),disabled:l||t,...u,children:[t&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)(i,{size:"sm"===c?"sm":"lg"===c?"md":"sm",variant:"secondary",showText:!!s,text:s})}),(0,n.jsx)("span",{className:(0,a.cn)("transition-opacity duration-200",t?"opacity-0":"opacity-100"),children:r})]})}},73634:function(e,t,r){"use strict";r.d(t,{Me:function(){return i},Ul:function(){return s},_N:function(){return l},gU:function(){return o}});const n=r(5978),a=r(50237);const s={USERS:"users",SESSIONS:"sessions",LOCATIONS:"locations"},i=async(e,t)=>{const r=await (0,n.QT)((0,n.JU)(a.db,e,t));return r.exists()?{id:r.id,...r.data()}:null},o=async(e,t,r)=>{await (0,n.r7)((0,n.JU)(a.db,e,t),r)},l=async e=>(await (0,n.PL)((0,n.hJ)(a.db,e))).docs.map(e=>({id:e.id,...e.data()}))},85687:function(e,t,r){"use strict";r.d(t,{a:function(){return o}});const n=r(2265),a=r(82148),s=r(50237),i=r(73634);function o(){const[e,t]=(0,n.useState)(null),[r,o]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{const e=(0,a.Aj)(s.I8,async e=>{if(e){const r=await (0,i.Me)(i.Ul.USERS,e.uid);t({...e,role:null==r?void 0:r.role})}else t(null);o(!1)});return()=>e()},[]),{user:e,loading:r}}}},function(e){e.O(0,[609,15,569,806,145,972,330,404,163,971,208,744],function(){return e(e.s=27762)}),_N_E=e.O()}]);