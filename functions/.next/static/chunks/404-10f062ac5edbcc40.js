try{!function(){const e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c444a528-cbb8-4b28-976b-29b33a38287a",e._sentryDebugIdIdentifier="sentry-dbid-c444a528-cbb8-4b28-976b-29b33a38287a")}()}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[404],{67205:function(e,t,o){o.d(t,{SkipToContent:function(){return a},qg:function(){return c},uy:function(){return i}});const n=o(57437),r=o(2265);function i(e){const{children:t,as:o="span",...r}=e;return(0,n.jsx)(o,{className:"sr-only",...r,children:t})}function a(e){const{targetId:t="main-content",className:o,children:r="Skip to main content"}=e;return(0,n.jsx)("a",{href:"#".concat(t),className:"\n        absolute left-[-9999px] top-auto w-1 h-1 overflow-hidden z-[999999]\n        focus:fixed focus:top-4 focus:left-4 focus:w-auto focus:h-auto \n        focus:bg-brand-primary focus:text-white focus:px-4 focus:py-2 \n        focus:rounded-md focus:no-underline focus:z-[999999]\n        ".concat(o||"","\n      "),onClick:e=>{const o=document.getElementById(t);o&&(o.focus(),o.scrollIntoView({behavior:"smooth"}))},children:r})}function c(){return{announce:r.useCallback(function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polite",o=document.getElementById("announcement-region");if(o){const n=document.createElement("div");for(n.textContent=e,n.setAttribute("role","log"),n.setAttribute("aria-live",t),n.setAttribute("aria-atomic","true");o.firstChild;)o.removeChild(o.firstChild);o.appendChild(n),setTimeout(()=>{o.contains(n)&&o.removeChild(n)},5e3)}},[])}}},39574:function(e,t,o){o.d(t,{dW:function(){return i},iB:function(){return a},vC:function(){return c}});const n=o(50237),r=o(25566);const i={LOGIN:"login",LOGOUT:"logout",SIGNUP:"sign_up",SESSION_START:"session_start",SESSION_END:"session_end",SESSION_PAUSE:"session_pause",SESSION_RESUME:"session_resume",LOCATION_CHECK_IN:"location_check_in",LOCATION_CHECK_OUT:"location_check_out",LOCATION_VIEW:"location_view",SEARCH:"search",PAGE_VIEW:"page_view",ERROR:"error",CACHE_ERROR:"cache_error",NETWORK_ERROR:"network_error",PERFORMANCE_METRIC:"performance_metric",CACHE_HIT:"cache_hit",CACHE_MISS:"cache_miss"},a={CHECK_IN_DURATION:"check_in_duration",LOCATION_LOAD_TIME:"location_load_time",SESSION_LIST_LOAD:"session_list_load",USER_SEARCH_TIME:"user_search_time",CACHE_RESPONSE_TIME:"cache_response_time"};class c{static trackEvent(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.co)try{n.co.logEvent(e,{...t,app_version:r.env.NEXT_PUBLIC_APP_VERSION||"1.0.0",environment:"production",timestamp:Date.now()}),Object.keys(o).length>0&&Object.entries(o).forEach(e=>{const[t,o]=e;n.co.setUserProperty(t,o)})}catch(e){console.warn("Analytics tracking failed:",e)}}static trackPerformance(e,t){const o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.Sv)try{const r=n.Sv.trace(e);Object.entries(o).forEach(e=>{const[t,o]=e;r.putAttribute(t,o)}),r.putMetric(e,Math.round(t)),r.stop(),this.trackEvent(i.PERFORMANCE_METRIC,{metric_name:e,metric_value:t,...o})}catch(e){console.warn("Performance tracking failed:",e)}}static trackUserSession(e,t){const o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={start:i.SESSION_START,end:i.SESSION_END,pause:i.SESSION_PAUSE,resume:i.SESSION_RESUME};this.trackEvent(n[t],{user_id:e,session_duration:o.duration,location_id:o.locationId,session_type:o.type||"check_in"},{user_role:o.userRole,total_sessions:o.totalSessions})}static trackLocationEvent(e,t){const o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n="check_in"===e?i.LOCATION_CHECK_IN:"check_out"===e?i.LOCATION_CHECK_OUT:i.LOCATION_VIEW;this.trackEvent(n,{location_id:t.locationId,location_name:t.locationName,accuracy:t.accuracy,distance_from_location:t.distance,gps_time:t.gpsTime},{user_role:o.role,provider_experience:o.experience})}static trackError(e){let t;const o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"medium";if(this.trackEvent(i.ERROR,{error_message:e.message,error_stack:null===(t=e.stack)||void 0===t?void 0:t.substring(0,500),error_context:JSON.stringify(o),error_severity:r,user_agent:"undefined"!=typeof navigator?navigator.userAgent:"unknown",url:window.location.href}),n.Sv)try{const t=n.Sv.trace("error_".concat(r));t.putAttribute("error_type",e.name),t.putAttribute("error_message",e.message.substring(0,100)),t.stop()}catch(e){console.warn("Performance error tracking failed:",e)}}static trackCachePerformance(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o="hit"===e?i.CACHE_HIT:i.CACHE_MISS;this.trackEvent(o,{cache_operation:e,cache_type:t.cacheType,data_type:t.dataType,response_time:t.responseTime})}static trackSearch(e,t,o){this.trackEvent(i.SEARCH,{search_term:e.substring(0,50),search_type:t,results_count:o.count,load_time:o.loadTime,from_cache:o.fromCache})}static setUserContext(e){if(n.co)try{n.co.setUserId(e.uid),n.co.setUserProperties({user_role:e.role,user_type:e.role,display_name:e.displayName})}catch(e){console.warn("Failed to set user context:",e)}}static initialize(){this.trackEvent(i.PAGE_VIEW,{page_title:document.title,page_location:window.location.href,page_path:window.location.pathname}),this.setupPerformanceMonitoring(),this.setupErrorMonitoring(),console.log("\uD83D\uDD0D Production monitoring initialized")}static setupPerformanceMonitoring(){n.Sv&&(window.addEventListener("load",()=>{setTimeout(()=>{const e=n.Sv.getEntriesByType("navigation")[0];e&&this.trackPerformance("page_load_time",e.loadEventEnd-e.fetchStart,{page:window.location.pathname})},1e3)}),"web-vitals"in window&&o.e(430).then(o.bind(o,96430)).then(e=>{const{onLCP:t,onINP:o,onCLS:n,onFCP:r,onTTFB:i}=e;t(e=>{this.trackPerformance("lcp",e.value,{page:window.location.pathname,rating:e.rating})}),o(e=>{this.trackPerformance("inp",e.value,{page:window.location.pathname,rating:e.rating})}),n(e=>{this.trackPerformance("cls",1e3*e.value,{page:window.location.pathname,rating:e.rating})})}))}static setupErrorMonitoring(){window.addEventListener("error",e=>{this.trackError(Error(e.message),{filename:e.filename,lineno:e.lineno,colno:e.colno,source:"global_error_handler"},"high")}),window.addEventListener("unhandledrejection",e=>{this.trackError(Error(e.reason),{source:"unhandled_promise_rejection",promise:e.promise.toString().substring(0,100)},"high")})}}},1469:function(e,t,o){o.d(t,{z:function(){return a}});const n=o(2265),r=o(85687),i=o(39574);function a(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{user:t}=(0,r.a)(),{enableAutoTracking:o=!0,enablePerformanceTracking:a=!0,enableErrorTracking:c=!0}=e;(0,n.useEffect)(()=>{t&&t.role&&i.vC.setUserContext({uid:t.uid,role:t.role,displayName:t.displayName||void 0,email:t.email||void 0})},[t]),(0,n.useEffect)(()=>{if(o){const e=()=>{i.vC.trackEvent(i.dW.PAGE_VIEW,{page_title:document.title,page_location:window.location.href,page_path:window.location.pathname,user_role:null==t?void 0:t.role})};return e(),window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}}},[o,null==t?void 0:t.role]);const s=(0,n.useCallback)(function(e){const o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.vC.trackEvent(e,{...o,user_role:null==t?void 0:t.role},n)},[null==t?void 0:t.role]),l=(0,n.useCallback)(function(e,o){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a&&i.vC.trackPerformance(e,o,{...n,user_role:(null==t?void 0:t.role)||"anonymous"})},[a,null==t?void 0:t.role]),u=(0,n.useCallback)(function(e){const o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&i.vC.trackUserSession(t.uid,e,{...o,userRole:t.role})},[t]),d=(0,n.useCallback)(function(e,o){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i.vC.trackLocationEvent(e,o,{...n,role:null==t?void 0:t.role})},[null==t?void 0:t.role]);return{trackEvent:s,trackPerformance:l,trackUserSession:u,trackLocationEvent:d,trackSearch:(0,n.useCallback)((e,t,o)=>{i.vC.trackSearch(e,t,o)},[]),trackError:(0,n.useCallback)(function(e){const o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"medium";c&&i.vC.trackError(e,{...o,user_role:null==t?void 0:t.role,user_id:null==t?void 0:t.uid},n)},[c,null==t?void 0:t.role,null==t?void 0:t.uid]),trackCachePerformance:(0,n.useCallback)(function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a&&i.vC.trackCachePerformance(e,t)},[a]),trackLogin:e=>s(i.dW.LOGIN,{method:e}),trackLogout:()=>s(i.dW.LOGOUT),trackCheckIn:e=>d("check_in",e),trackCheckOut:e=>d("check_out",e),trackCheckInDuration:e=>l(i.iB.CHECK_IN_DURATION,e),trackLocationLoadTime:e=>l(i.iB.LOCATION_LOAD_TIME,e),trackSessionListLoad:e=>l(i.iB.SESSION_LIST_LOAD,e),trackUserSearchTime:e=>l(i.iB.USER_SEARCH_TIME,e),trackCacheResponseTime:e=>l(i.iB.CACHE_RESPONSE_TIME,e)}}}}]);