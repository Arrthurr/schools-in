{"version":3,"file":"../app/api/sessions/route.js","mappings":"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","sources":["webpack://schools-in/./node_modules/@opentelemetry/instrumentation-redis/node_modules/@opentelemetry/instrumentation/build/esm/platform/node/ sync","webpack://schools-in/./node_modules/@sentry/nextjs/node_modules/@opentelemetry/instrumentation-ioredis/node_modules/@opentelemetry/instrumentation/build/esm/platform/node/ sync","webpack://schools-in/./node_modules/@sentry/nextjs/node_modules/@opentelemetry/instrumentation/build/esm/platform/node/ sync","webpack://schools-in/./node_modules/@sentry/nextjs/node_modules/@prisma/instrumentation/node_modules/@opentelemetry/instrumentation/build/esm/platform/node/ sync","webpack://schools-in/./node_modules/require-in-the-middle/ sync","webpack://schools-in/external commonjs \"next/dist/client/components/request-async-storage.external.js\"","webpack://schools-in/external commonjs \"next/dist/compiled/next-server/app-page.runtime.prod.js\"","webpack://schools-in/external commonjs \"next/dist/compiled/next-server/app-route.runtime.prod.js\"","webpack://schools-in/external commonjs2 \"async_hooks\"","webpack://schools-in/external commonjs2 \"child_process\"","webpack://schools-in/external commonjs2 \"crypto\"","webpack://schools-in/external commonjs2 \"diagnostics_channel\"","webpack://schools-in/external commonjs2 \"dns\"","webpack://schools-in/external commonjs2 \"events\"","webpack://schools-in/external commonjs2 \"fs\"","webpack://schools-in/external commonjs2 \"http\"","webpack://schools-in/external commonjs2 \"http2\"","webpack://schools-in/external commonjs2 \"module\"","webpack://schools-in/external commonjs2 \"net\"","webpack://schools-in/external commonjs2 \"os\"","webpack://schools-in/external commonjs2 \"path\"","webpack://schools-in/external commonjs2 \"perf_hooks\"","webpack://schools-in/external commonjs2 \"process\"","webpack://schools-in/external commonjs2 \"stream\"","webpack://schools-in/external commonjs2 \"tls\"","webpack://schools-in/external commonjs2 \"tty\"","webpack://schools-in/external commonjs2 \"url\"","webpack://schools-in/external commonjs2 \"util\"","webpack://schools-in/external commonjs2 \"worker_threads\"","webpack://schools-in/external commonjs2 \"zlib\"","webpack://schools-in/external node-commonjs \"node:child_process\"","webpack://schools-in/external node-commonjs \"node:diagnostics_channel\"","webpack://schools-in/external node-commonjs \"node:fs\"","webpack://schools-in/external node-commonjs \"node:http\"","webpack://schools-in/external node-commonjs \"node:https\"","webpack://schools-in/external node-commonjs \"node:inspector\"","webpack://schools-in/external node-commonjs \"node:net\"","webpack://schools-in/external node-commonjs \"node:os\"","webpack://schools-in/external node-commonjs \"node:path\"","webpack://schools-in/external node-commonjs \"node:readline\"","webpack://schools-in/external node-commonjs \"node:stream\"","webpack://schools-in/external node-commonjs \"node:tls\"","webpack://schools-in/external node-commonjs \"node:util\"","webpack://schools-in/external node-commonjs \"node:worker_threads\"","webpack://schools-in/external node-commonjs \"node:zlib\"","webpack://schools-in/src/app/api/sessions/route.ts","webpack://schools-in/sentry-wrapper-module","webpack://schools-in/?f076","webpack://schools-in/./firebase.config.js","webpack://schools-in/./src/lib/firebase/firestore.ts"],"sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 48872;\nmodule.exports = webpackEmptyContext;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 95653;\nmodule.exports = webpackEmptyContext;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 98005;\nmodule.exports = webpackEmptyContext;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 83293;\nmodule.exports = webpackEmptyContext;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 12308;\nmodule.exports = webpackEmptyContext;","module.exports = require(\"next/dist/client/components/request-async-storage.external.js\");","module.exports = require(\"next/dist/compiled/next-server/app-page.runtime.prod.js\");","module.exports = require(\"next/dist/compiled/next-server/app-route.runtime.prod.js\");","module.exports = require(\"async_hooks\");","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"diagnostics_channel\");","module.exports = require(\"dns\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"http2\");","module.exports = require(\"module\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"perf_hooks\");","module.exports = require(\"process\");","module.exports = require(\"stream\");","module.exports = require(\"tls\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"worker_threads\");","module.exports = require(\"zlib\");","module.exports = require(\"node:child_process\");","module.exports = require(\"node:diagnostics_channel\");","module.exports = require(\"node:fs\");","module.exports = require(\"node:http\");","module.exports = require(\"node:https\");","module.exports = require(\"node:inspector\");","module.exports = require(\"node:net\");","module.exports = require(\"node:os\");","module.exports = require(\"node:path\");","module.exports = require(\"node:readline\");","module.exports = require(\"node:stream\");","module.exports = require(\"node:tls\");","module.exports = require(\"node:util\");","module.exports = require(\"node:worker_threads\");","module.exports = require(\"node:zlib\");","// API route for session CRUD operations\n\nimport { NextRequest, NextResponse } from \"next/server\";\nimport {\n  createDocument,\n  getDocument,\n  updateDocument,\n  deleteDocument,\n  getSessionsByUser,\n  COLLECTIONS,\n} from \"@/lib/firebase/firestore\";\nimport { Timestamp } from \"firebase/firestore\";\n\n// GET /api/sessions - Get sessions for a user\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const userId = searchParams.get(\"userId\");\n    const limit = searchParams.get(\"limit\");\n\n    if (!userId) {\n      return NextResponse.json(\n        { error: \"User ID is required\" },\n        { status: 400 }\n      );\n    }\n\n    const sessions = await getSessionsByUser(\n      userId,\n      limit ? parseInt(limit) : 50\n    );\n\n    return NextResponse.json({ sessions });\n  } catch (error) {\n    console.error(\"Error fetching sessions:\", error);\n    return NextResponse.json(\n      { error: \"Failed to fetch sessions\" },\n      { status: 500 }\n    );\n  }\n}\n\n// POST /api/sessions - Create a new session (check-in)\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const { userId, schoolId, checkInLocation } = body;\n\n    if (!userId || !schoolId || !checkInLocation) {\n      return NextResponse.json(\n        { error: \"User ID, School ID, and check-in location are required\" },\n        { status: 400 }\n      );\n    }\n\n    const sessionData = {\n      userId,\n      schoolId,\n      checkInTime: Timestamp.now(),\n      checkInLocation,\n      status: \"active\",\n      createdAt: Timestamp.now(),\n      updatedAt: Timestamp.now(),\n    };\n\n    const sessionId = await createDocument(COLLECTIONS.SESSIONS, sessionData);\n\n    return NextResponse.json(\n      {\n        id: sessionId,\n        ...sessionData,\n      },\n      { status: 201 }\n    );\n  } catch (error) {\n    console.error(\"Error creating session:\", error);\n    return NextResponse.json(\n      { error: \"Failed to create session\" },\n      { status: 500 }\n    );\n  }\n}\n\n// PUT /api/sessions - Update a session (check-out)\nexport async function PUT(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const { sessionId, checkOutLocation, status, notes } = body;\n\n    if (!sessionId) {\n      return NextResponse.json(\n        { error: \"Session ID is required\" },\n        { status: 400 }\n      );\n    }\n\n    const updateData: any = {\n      updatedAt: Timestamp.now(),\n    };\n\n    if (checkOutLocation) {\n      updateData.checkOutTime = Timestamp.now();\n      updateData.checkOutLocation = checkOutLocation;\n      updateData.status = \"completed\";\n    }\n\n    if (status) {\n      updateData.status = status;\n    }\n\n    if (notes) {\n      updateData.notes = notes;\n    }\n\n    await updateDocument(COLLECTIONS.SESSIONS, sessionId, updateData);\n\n    const updatedSession = await getDocument(COLLECTIONS.SESSIONS, sessionId);\n\n    return NextResponse.json({\n      id: sessionId,\n      ...((updatedSession as object) || {}),\n    });\n  } catch (error) {\n    console.error(\"Error updating session:\", error);\n    return NextResponse.json(\n      { error: \"Failed to update session\" },\n      { status: 500 }\n    );\n  }\n}\n\n// DELETE /api/sessions - Delete a session\nexport async function DELETE(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const sessionId = searchParams.get(\"sessionId\");\n\n    if (!sessionId) {\n      return NextResponse.json(\n        { error: \"Session ID is required\" },\n        { status: 400 }\n      );\n    }\n\n    await deleteDocument(COLLECTIONS.SESSIONS, sessionId);\n\n    return NextResponse.json({ message: \"Session deleted successfully\" });\n  } catch (error) {\n    console.error(\"Error deleting session:\", error);\n    return NextResponse.json(\n      { error: \"Failed to delete session\" },\n      { status: 500 }\n    );\n  }\n}\n","import * as origModule from 'next/dist/client/components/request-async-storage.external.js';\nimport * as serverComponentModule from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nexport * from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nexport {} from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nimport * as Sentry from '@sentry/nextjs';\n\n// @ts-expect-error Because we cannot be sure if the RequestAsyncStorage module exists (it is not part of the Next.js public\n// API) we use a shim if it doesn't exist. The logic for this is in the wrapping loader.\n\nconst asyncStorageModule = { ...origModule } ;\n\nconst requestAsyncStorage =\n  'workUnitAsyncStorage' in asyncStorageModule\n    ? asyncStorageModule.workUnitAsyncStorage\n    : 'requestAsyncStorage' in asyncStorageModule\n      ? asyncStorageModule.requestAsyncStorage\n      : undefined;\n\nfunction wrapHandler(handler, method) {\n  // Running the instrumentation code during the build phase will mark any function as \"dynamic\" because we're accessing\n  // the Request object. We do not want to turn handlers dynamic so we skip instrumentation in the build phase.\n  if (process.env.NEXT_PHASE === 'phase-production-build') {\n    return handler;\n  }\n\n  if (typeof handler !== 'function') {\n    return handler;\n  }\n\n  return new Proxy(handler, {\n    apply: (originalFunction, thisArg, args) => {\n      let headers = undefined;\n\n      // We try-catch here just in case the API around `requestAsyncStorage` changes unexpectedly since it is not public API\n      try {\n        const requestAsyncStore = requestAsyncStorage?.getStore() ;\n        headers = requestAsyncStore?.headers;\n      } catch {\n        /** empty */\n      }\n\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      return Sentry.wrapRouteHandlerWithSentry(originalFunction , {\n        method,\n        parameterizedRoute: '/api/sessions',\n        headers,\n      }).apply(thisArg, args);\n    },\n  });\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst GET = wrapHandler(serverComponentModule.GET , 'GET');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst POST = wrapHandler(serverComponentModule.POST , 'POST');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst PUT = wrapHandler(serverComponentModule.PUT , 'PUT');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst PATCH = wrapHandler(serverComponentModule.PATCH , 'PATCH');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst DELETE = wrapHandler(serverComponentModule.DELETE , 'DELETE');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst HEAD = wrapHandler(serverComponentModule.HEAD , 'HEAD');\n// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\nconst OPTIONS = wrapHandler(serverComponentModule.OPTIONS , 'OPTIONS');\n\nexport { DELETE, GET, HEAD, OPTIONS, PATCH, POST, PUT };\n","import { AppRouteRouteModule } from \"next/dist/server/future/route-modules/app-route/module.compiled\";\nimport { RouteKind } from \"next/dist/server/future/route-kind\";\nimport { patchFetch as _patchFetch } from \"next/dist/server/lib/patch-fetch\";\nimport * as userland from \"/Users/arthurturnbull/Developer/schools-in/src/app/api/sessions/route.ts\";\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: RouteKind.APP_ROUTE,\n        page: \"/api/sessions/route\",\n        pathname: \"/api/sessions\",\n        filename: \"route\",\n        bundlePath: \"app/api/sessions/route\"\n    },\n    resolvedPagePath: \"/Users/arthurturnbull/Developer/schools-in/src/app/api/sessions/route.ts\",\n    nextConfigOutput,\n    userland\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/sessions/route\";\nfunction patchFetch() {\n    return _patchFetch({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\nexport { routeModule, requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, originalPathname, patchFetch,  };\n\n//# sourceMappingURL=app-route.js.map","// Firebase SDK configuration and initialization\n// Production-ready configuration with enhanced features\n\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth, connectAuthEmulator } from \"firebase/auth\";\nimport {\n  getFirestore,\n  connectFirestoreEmulator,\n  enableMultiTabIndexedDbPersistence,\n} from \"firebase/firestore\";\nimport { getStorage, connectStorageEmulator } from \"firebase/storage\";\nimport { getPerformance } from \"firebase/performance\";\nimport { getAnalytics, isSupported } from \"firebase/analytics\";\n\n// Production Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\n// Initialize Firebase Authentication and get a reference to the service\nexport const auth = getAuth(app);\n\n// Initialize Cloud Firestore and get a reference to the service\nexport const db = getFirestore(app);\n\n// Initialize Firebase Storage\nexport const storage = getStorage(app);\n\n// Initialize Firebase Performance Monitoring (production only)\nexport let performance = null;\nif (typeof window !== \"undefined\" && process.env.NODE_ENV === \"production\") {\n  try {\n    performance = getPerformance(app);\n  } catch (error) {\n    console.warn(\"Failed to initialize Firebase Performance:\", error);\n  }\n}\n\n// Initialize Firebase Analytics (production only)\nexport let analytics = null;\nif (typeof window !== \"undefined\" && process.env.NODE_ENV === \"production\") {\n  isSupported()\n    .then((supported) => {\n      if (supported) {\n        analytics = getAnalytics(app);\n      }\n    })\n    .catch((error) => {\n      console.warn(\"Failed to initialize Firebase Analytics:\", error);\n    });\n}\n\n// Development emulators\nif (process.env.NODE_ENV === \"development\") {\n  connectAuthEmulator(auth, \"http://localhost:9099\");\n  connectFirestoreEmulator(db, \"localhost\", 8080);\n  connectStorageEmulator(storage, \"localhost\", 9199);\n}\n\n// Enable offline persistence in production\nif (typeof window !== \"undefined\" && process.env.NODE_ENV === \"production\") {\n  try {\n    enableMultiTabIndexedDbPersistence(db).catch((err) => {\n      if (err.code === \"failed-precondition\") {\n        console.warn(\"Firebase persistence failed: Multiple tabs open\");\n      } else if (err.code === \"unimplemented\") {\n        console.warn(\"Firebase persistence not supported by browser\");\n      }\n    });\n  } catch (error) {\n    console.warn(\"Failed to enable Firebase persistence:\", error);\n  }\n}\n\nexport default app;\n","// Firestore database service and CRUD operations\n\nimport {\n  collection,\n  doc,\n  getDocs,\n  getDoc,\n  addDoc,\n  updateDoc,\n  deleteDoc,\n  query,\n  where,\n  orderBy,\n  limit,\n  Timestamp,\n  DocumentData,\n  QuerySnapshot,\n  DocumentSnapshot,\n} from \"firebase/firestore\";\nimport { db } from \"../../../firebase.config\";\nimport { User, Location, Session } from \"./types\";\n\n// Collection names\nexport const COLLECTIONS = {\n  USERS: \"users\",\n  SESSIONS: \"sessions\",\n  LOCATIONS: \"locations\",\n} as const;\n\n// Generic CRUD operations\nexport const createDocument = async <T extends object>(\n  collectionName: string,\n  data: T\n): Promise<string> => {\n  const docRef = await addDoc(collection(db, collectionName), data);\n  return docRef.id;\n};\n\nexport const getDocument = async <T>(\n  collectionName: string,\n  docId: string\n): Promise<T | null> => {\n  const docSnap = await getDoc(doc(db, collectionName, docId));\n  if (docSnap.exists()) {\n    return { id: docSnap.id, ...docSnap.data() } as T;\n  }\n  return null;\n};\n\nexport const updateDocument = async (\n  collectionName: string,\n  docId: string,\n  data: Record<string, any>\n): Promise<void> => {\n  await updateDoc(doc(db, collectionName, docId), data);\n};\n\nexport const deleteDocument = async (\n  collectionName: string,\n  docId: string\n): Promise<void> => {\n  await deleteDoc(doc(db, collectionName, docId));\n};\n\nexport const getCollection = async <T>(\n  collectionName: string\n): Promise<T[]> => {\n  const querySnapshot = await getDocs(collection(db, collectionName));\n  return querySnapshot.docs.map((doc) => ({ id: doc.id, ...doc.data() } as T));\n};\n\n// Specific queries\nexport const getUserByEmail = async (email: string): Promise<User | null> => {\n  const q = query(\n    collection(db, COLLECTIONS.USERS),\n    where(\"email\", \"==\", email)\n  );\n  const querySnapshot = await getDocs(q);\n  if (querySnapshot.empty) {\n    return null;\n  }\n  const doc = querySnapshot.docs[0];\n  return { uid: doc.id, ...doc.data() } as User;\n};\n\nexport const getLocationsByProvider = async (\n  providerId: string\n): Promise<Location[]> => {\n  const q = query(\n    collection(db, COLLECTIONS.LOCATIONS),\n    where(\"assignedProviders\", \"array-contains\", providerId)\n  );\n  const querySnapshot = await getDocs(q);\n  return querySnapshot.docs.map(\n    (doc) => ({ id: doc.id, ...doc.data() } as Location)\n  );\n};\n\nexport const getSessionsByUser = async (\n  userId: string,\n  page: number = 1,\n  pageSize: number = 10,\n  filters?: {\n    schoolId?: string;\n    startDate?: Date;\n    endDate?: Date;\n  }\n): Promise<{ sessions: Session[]; total: number; hasMore: boolean }> => {\n  // Build query constraints\n  const constraints = [where(\"userId\", \"==\", userId)];\n\n  if (filters?.schoolId) {\n    constraints.push(where(\"schoolId\", \"==\", filters.schoolId));\n  }\n\n  // First, get total count with filters\n  const countQuery = query(\n    collection(db, COLLECTIONS.SESSIONS),\n    ...constraints\n  );\n  const countSnapshot = await getDocs(countQuery);\n  const total = countSnapshot.size;\n\n  // Calculate offset for pagination\n  const offset = (page - 1) * pageSize;\n\n  // Build main query with filters\n  const mainConstraints = [...constraints];\n\n  // Add date range filters if provided\n  if (filters?.startDate) {\n    mainConstraints.push(\n      where(\"checkInTime\", \">=\", Timestamp.fromDate(filters.startDate))\n    );\n  }\n  if (filters?.endDate) {\n    // Set end date to end of day\n    const endOfDay = new Date(filters.endDate);\n    endOfDay.setHours(23, 59, 59, 999);\n    mainConstraints.push(\n      where(\"checkInTime\", \"<=\", Timestamp.fromDate(endOfDay))\n    );\n  }\n\n  // Get paginated results\n  const q = query(\n    collection(db, COLLECTIONS.SESSIONS),\n    ...mainConstraints,\n    orderBy(\"checkInTime\", \"desc\"),\n    limit(pageSize + offset + 1) // Get one extra to check if there are more\n  );\n\n  const querySnapshot = await getDocs(q);\n  const allDocs = querySnapshot.docs;\n\n  // Apply offset and limit\n  const sessions = allDocs\n    .slice(offset, offset + pageSize)\n    .map((doc) => ({ id: doc.id, ...doc.data() } as Session));\n\n  const hasMore = allDocs.length > offset + pageSize;\n\n  return { sessions, total, hasMore };\n};\n\nexport const getActiveSessions = async (): Promise<Session[]> => {\n  const q = query(\n    collection(db, COLLECTIONS.SESSIONS),\n    where(\"status\", \"==\", \"active\")\n  );\n  const querySnapshot = await getDocs(q);\n  return querySnapshot.docs.map(\n    (doc) => ({ id: doc.id, ...doc.data() } as Session)\n  );\n};\n"],"names":["webpackEmptyContext","req","e","code","keys","resolve","id","module","exports","require","GET","request","searchParams","URL","url","userId","get","limit","NextResponse","json","error","status","sessions","getSessionsByUser","parseInt","console","POST","schoolId","checkInLocation","sessionData","checkInTime","Timestamp","now","createdAt","updatedAt","sessionId","createDocument","COLLECTIONS","SESSIONS","PUT","checkOutLocation","notes","updateData","checkOutTime","updateDocument","updatedSession","getDocument","DELETE","deleteDocument","message","asyncStorageModule","request_async_storage_external_js_","requestAsyncStorage","workUnitAsyncStorage","undefined","wrapHandler","handler","method","process","env","NEXT_PHASE","Proxy","apply","originalFunction","thisArg","args","headers","requestAsyncStore","getStore","index_server","wrapRouteHandlerWithSentry","parameterizedRoute","serverComponentModule.GET","serverComponentModule.POST","serverComponentModule.PUT","PATCH","serverComponentModule.PATCH","serverComponentModule.DELETE","HEAD","serverComponentModule.HEAD","OPTIONS","serverComponentModule.OPTIONS","routeModule","module_compiled","AppRouteRouteModule","definition","kind","route_kind","x","APP_ROUTE","page","pathname","filename","bundlePath","resolvedPagePath","nextConfigOutput","userland","route_namespaceObject","next_app_loaderpage_2Fapi_2Fsessions_2Froute_name_app_2Fapi_2Fsessions_2Froute_pagePath_private_next_app_dir_2Fapi_2Fsessions_2Froute_ts_appDir_2FUsers_2Farthurturnbull_2FDeveloper_2Fschools_in_2Fsrc_2Fapp_appPaths_2Fapi_2Fsessions_2Froute_pageExtensions_tsx_pageExtensions_ts_pageExtensions_jsx_pageExtensions_js_basePath_assetPrefix_nextConfigOutput_nextConfigExperimentalUseEarlyImport_false_preferredRegion_middlewareConfig_e30_3D_requestAsyncStorage","staticGenerationAsyncStorage","serverHooks","originalPathname","patchFetch","patch_fetch","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","getAuth","db","getFirestore","getStorage","USERS","LOCATIONS","collectionName","data","docRef","addDoc","collection","docId","docSnap","getDoc","doc","exists","updateDoc","deleteDoc","getCollection","querySnapshot","getDocs","docs","map","getLocationsByProvider","providerId","q","query","where","pageSize","filters","constraints","push","countQuery","total","countSnapshot","size","offset","mainConstraints","startDate","fromDate","endDate","endOfDay","Date","setHours","orderBy","allDocs","slice","hasMore","length"],"sourceRoot":""}