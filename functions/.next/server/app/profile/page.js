try{!function(){const e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},r=(new e.Error).stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="683c6a7e-b3fd-4ff2-9128-c85d88d275a5",e._sentryDebugIdIdentifier="sentry-dbid-683c6a7e-b3fd-4ff2-9128-c85d88d275a5")}()}catch(e){}(()=>{const e={};e.id=178,e.ids=[178],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61212:e=>{"use strict";e.exports=require("async_hooks")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},27920:e=>{"use strict";e.exports=require("diagnostics_channel")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},85807:e=>{"use strict";e.exports=require("module")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},17718:e=>{"use strict";e.exports=require("node:child_process")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},85690:e=>{"use strict";e.exports=require("node:inspector")},87503:e=>{"use strict";e.exports=require("node:net")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},51747:e=>{"use strict";e.exports=require("node:readline")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},47261:e=>{"use strict";e.exports=require("node:util")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},98672:(e,r,s)=>{"use strict";let t;s.r(r),s.d(r,{default:()=>m,generateImageMetadata:()=>p,generateMetadata:()=>c,generateViewport:()=>x});const i=s(54580),o=s(35423);const a=(0,s(17369).createProxy)(String.raw`/Users/arthurturnbull/Developer/schools-in/src/components/auth/UserProfile.tsx#UserProfile`);const n=s(42712),l=s(21967);const u={...i},d="workUnitAsyncStorage"in u?u.workUnitAsyncStorage:"requestAsyncStorage"in u?u.requestAsyncStorage:void 0;t=new Proxy(function(){return(0,o.jsx)(n.i,{roles:["provider","admin"],children:(0,o.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center p-8",children:(0,o.jsx)(a,{})})})},{apply:(e,r,s)=>{let t,i,o;try{const e=d?.getStore();t=e?.headers.get("sentry-trace")??void 0,i=e?.headers.get("baggage")??void 0,o=e?.headers}catch{}return l.wrapServerComponentWithSentry(e,{componentRoute:"/profile",componentType:"Page",sentryTraceHeader:t,baggageHeader:i,headers:o}).apply(r,s)}});const c=void 0,p=void 0,x=void 0,m=t},25053:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>x,tree:()=>u}),s(98672),s(26578),s(67641),s(14844);var t=s(95537),i=s(85358),o=s(24957),a=s.n(o),n=s(8666),l={};for(const e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);s.d(r,l);const u=["",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,98672)),"/Users/arthurturnbull/Developer/schools-in/src/app/profile/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,26578)),"/Users/arthurturnbull/Developer/schools-in/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,67641)),"/Users/arthurturnbull/Developer/schools-in/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,14844)),"/Users/arthurturnbull/Developer/schools-in/src/app/not-found.tsx"]}],d=["/Users/arthurturnbull/Developer/schools-in/src/app/profile/page.tsx"],c="/profile/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},9065:(e,r,s)=>{Promise.resolve().then(s.bind(s,84643)),Promise.resolve().then(s.bind(s,26517))},84643:(e,r,s)=>{"use strict";s.d(r,{ProtectedRoute:()=>a});const t=s(28002),i=s(96800),o=s(74068);function a({children:e,roles:r}){const{user:s,loading:a}=(0,i.a)(),n=(0,o.useRouter)();return a?t.jsx("div",{children:"Loading..."}):s?s.role&&!r.includes(s.role)?(n.push("/dashboard"),null):t.jsx(t.Fragment,{children:e}):(n.push("/"),null)}},26517:(e,r,s)=>{"use strict";s.d(r,{UserProfile:()=>f});const t=s(28002),i=s(22488),o=s(96800),a=s(34687),n=s(2227),l=s(41572),u=s(16885),d=s(45475),c=s(15487),p=s(12518),x=s(94018),m=s(41662);const h=p.Ry({displayName:p.Z_().min(2,{message:"Display name must be at least 2 characters."})});function f(){const{user:e}=(0,o.a)(),[r,s]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!1),g=(0,d.cI)({resolver:(0,c.F)(h),defaultValues:{displayName:e?.displayName||""}}),y=async r=>{if(e){s(!0),f(!1);try{await (0,x.ck)(m.I8.currentUser,{displayName:r.displayName}),f(!0)}catch(e){console.error(e)}finally{s(!1)}}};return e?(0,t.jsxs)(u.Zb,{className:"max-w-lg mx-auto",children:[t.jsx(u.Ol,{children:t.jsx(u.ll,{children:"User Profile"})}),(0,t.jsxs)(u.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(l._,{children:"Email"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e.email})]}),(0,t.jsxs)("div",{children:[t.jsx(l._,{children:"Role"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:e.role})]}),(0,t.jsxs)("form",{onSubmit:g.handleSubmit(y),className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(l._,{htmlFor:"displayName",children:"Display Name"}),t.jsx(n.I,{id:"displayName",...g.register("displayName")}),g.formState.errors.displayName&&t.jsx("p",{className:"text-sm text-destructive",children:g.formState.errors.displayName.message})]}),t.jsx(a.z,{type:"submit",disabled:r,children:r?"Updating...":"Update Profile"}),p&&t.jsx("p",{className:"text-sm text-green-600",children:"Profile updated successfully!"})]})]})]}):t.jsx("div",{children:"Loading..."})}},2227:(e,r,s)=>{"use strict";s.d(r,{I:()=>a});const t=s(28002),i=s(22488),o=s(73521);const a=i.forwardRef(({className:e,type:r,...s},i)=>t.jsx("input",{type:r,className:(0,o.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...s}));a.displayName="Input"},41572:(e,r,s)=>{"use strict";s.d(r,{_:()=>u});const t=s(28002),i=s(22488),o=s(11537),a=s(8206),n=s(73521);const l=(0,a.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=i.forwardRef(({className:e,...r},s)=>t.jsx(o.f,{ref:s,className:(0,n.cn)(l(),e),...r}));u.displayName=o.f.displayName},42712:(e,r,s)=>{"use strict";s.d(r,{i:()=>t});const t=(0,s(17369).createProxy)(String.raw`/Users/arthurturnbull/Developer/schools-in/src/components/auth/ProtectedRoute.tsx#ProtectedRoute`)}};const r=require("../../webpack-runtime.js");r.C(e);const s=e=>r(r.s=e),t=r.X(0,[454,982,878,750],()=>s(25053));module.exports=t})();
//# sourceMappingURL=page.js.map