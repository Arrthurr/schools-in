try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="6e2474d9-741d-42c4-a67f-3cf4575a2d9d",e._sentryDebugIdIdentifier="sentry-dbid-6e2474d9-741d-42c4-a67f-3cf4575a2d9d")}()}catch(e){}(()=>{var e={};e.id=674,e.ids=[674],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61212:e=>{"use strict";e.exports=require("async_hooks")},61282:e=>{"use strict";e.exports=require("child_process")},84770:e=>{"use strict";e.exports=require("crypto")},27920:e=>{"use strict";e.exports=require("diagnostics_channel")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},85807:e=>{"use strict";e.exports=require("module")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},96119:e=>{"use strict";e.exports=require("perf_hooks")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},17718:e=>{"use strict";e.exports=require("node:child_process")},65714:e=>{"use strict";e.exports=require("node:diagnostics_channel")},87561:e=>{"use strict";e.exports=require("node:fs")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},85690:e=>{"use strict";e.exports=require("node:inspector")},87503:e=>{"use strict";e.exports=require("node:net")},70612:e=>{"use strict";e.exports=require("node:os")},49411:e=>{"use strict";e.exports=require("node:path")},51747:e=>{"use strict";e.exports=require("node:readline")},84492:e=>{"use strict";e.exports=require("node:stream")},31764:e=>{"use strict";e.exports=require("node:tls")},47261:e=>{"use strict";e.exports=require("node:util")},24086:e=>{"use strict";e.exports=require("node:worker_threads")},65628:e=>{"use strict";e.exports=require("node:zlib")},16660:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>F});var r=t(28002),a=t(22488),i=t(710),l=t(84600),n=t(91144),o=t(13765),c=t(81915);let d=(0,t(59141).Z)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var u=t(22604),x=t(82268),h=t(66693),m=t(51963),p=t(25745),g=t(21301),y=t(38419),v=t(34687),f=t(2227),j=t(16885),b=t(78620),N=t(78992),w=t(84643),S=t(89732),k=t(21250),A=t(55506),C=t(87597),q=t(61694),U=t(41662),E=t(66204);let Z=async e=>{try{let s=(0,q.IO)((0,q.hJ)(U.db,E.Ul.USERS),(0,q.Xo)("createdAt","desc"));return e?.role&&(s=(0,q.IO)(s,(0,q.ar)("role","==",e.role))),e?.isActive!==void 0&&(s=(0,q.IO)(s,(0,q.ar)("isActive","==",e.isActive))),(await (0,q.PL)(s)).docs.map(e=>({id:e.id,...e.data()}))}catch(e){throw console.error("Error getting users:",e),Error("Failed to fetch users")}},z=async(e,s)=>{try{let t=(0,q.JU)(U.db,E.Ul.USERS,e);await (0,q.r7)(t,{role:s,updatedAt:q.EK.now()})}catch(e){throw console.error("Error updating user role:",e),Error("Failed to update user role")}},P=async(e,s)=>{try{let t=(0,q.JU)(U.db,E.Ul.USERS,e);await (0,q.r7)(t,{isActive:s,updatedAt:q.EK.now()})}catch(e){throw console.error("Error updating user status:",e),Error("Failed to update user status")}},M=async(e,s)=>{try{let t=(0,q.JU)(U.db,E.Ul.USERS,e);await (0,q.r7)(t,{...s,updatedAt:q.EK.now()})}catch(e){throw console.error("Error updating user profile:",e),Error("Failed to update user profile")}},D=async(e,s)=>{try{let t=(0,q.qs)(U.db),r=q.EK.now();e.forEach(e=>{let a=(0,q.JU)(U.db,E.Ul.USERS,e);t.update(a,{isActive:s,updatedAt:r})}),await t.commit()}catch(e){throw console.error("Error bulk updating user status:",e),Error("Failed to bulk update user status")}},T=async e=>{try{let s=(0,q.qs)(U.db);e.forEach(e=>{let t=(0,q.JU)(U.db,E.Ul.USERS,e);s.delete(t)}),await s.commit()}catch(e){throw console.error("Error bulk deleting users:",e),Error("Failed to bulk delete users")}},_=async()=>{try{let e=(await (0,q.PL)((0,q.hJ)(U.db,E.Ul.USERS))).docs.map(e=>e.data());return{totalUsers:e.length,totalProviders:e.filter(e=>"provider"===e.role).length,totalAdmins:e.filter(e=>"admin"===e.role).length,activeUsers:e.filter(e=>e.isActive).length,inactiveUsers:e.filter(e=>!e.isActive).length}}catch(e){throw console.error("Error getting user stats:",e),Error("Failed to fetch user statistics")}},R=async e=>{try{let s=(await (0,q.PL)((0,q.hJ)(U.db,E.Ul.USERS))).docs.map(e=>({id:e.id,...e.data()})),t=e.toLowerCase();return s.filter(e=>e.email?.toLowerCase().includes(t)||e.displayName?.toLowerCase().includes(t))}catch(e){throw console.error("Error searching users:",e),Error("Failed to search users")}};function I({user:e,isOpen:s,onClose:t,onSave:i,mode:l}){let[n,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,x]=(0,a.useState)({displayName:"",email:"",role:"provider",isActive:!0,assignedSchools:[]}),h=e=>{let s=u.assignedSchools.includes(e)?u.assignedSchools.filter(s=>s!==e):[...u.assignedSchools,e];x(e=>({...e,assignedSchools:s}))},m=async s=>{s.preventDefault();try{d(!0),"edit"===l&&e?await M(e.id,u):console.log("Creating user:",u),i(),t()}catch(e){console.error("Error saving user:",e)}finally{d(!1)}},p=e=>{let s=n.find(s=>s.id===e);return s?.name||e};return r.jsx(k.Vq,{open:s,onOpenChange:t,children:(0,r.jsxs)(k.cZ,{className:"sm:max-w-[600px] max-h-[80vh] overflow-y-auto",children:[(0,r.jsxs)(k.fK,{children:[r.jsx(k.$N,{children:"create"===l?"Create New User":`Edit ${e?.displayName||"User"}`}),r.jsx(k.Be,{children:"create"===l?"Add a new user to the system and assign their role.":"Update user information and role assignments."})]}),(0,r.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),r.jsx(f.I,{placeholder:"Enter full name",value:u.displayName,onChange:e=>x(s=>({...s,displayName:e.target.value})),required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx(f.I,{type:"email",placeholder:"user@example.com",value:u.email,onChange:e=>x(s=>({...s,email:e.target.value})),disabled:"edit"===l,required:!0}),"edit"===l&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed after user creation"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,r.jsxs)("select",{value:u.role,onChange:e=>x(s=>({...s,role:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[r.jsx("option",{value:"provider",children:"Provider"}),r.jsx("option",{value:"admin",children:"Admin"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"admin"===u.role?"Full system access and management capabilities":"Access to assigned schools and check-in/out functionality"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3 p-4 border rounded-lg",children:[r.jsx("input",{type:"checkbox",checked:u.isActive,onChange:e=>x(s=>({...s,isActive:e.target.checked})),className:"rounded border-gray-300 text-brand-primary focus:ring-brand-primary"}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Active User"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Inactive users cannot sign in to the system"})]})]})]}),"provider"===u.role&&(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Assigned Schools"}),u.assignedSchools.length>0&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["Selected schools (",u.assignedSchools.length,"):"]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:u.assignedSchools.map(e=>(0,r.jsxs)(b.C,{variant:"secondary",className:"pr-1",children:[p(e),r.jsx(v.z,{type:"button",variant:"ghost",size:"sm",className:"h-auto p-1 ml-2",onClick:()=>h(e),children:r.jsx(A.Z,{className:"h-3 w-3"})})]},e))})]}),(0,r.jsxs)("div",{className:"border rounded-lg p-4 max-h-40 overflow-y-auto",children:[r.jsx("p",{className:"text-sm font-medium mb-3",children:"Available Schools:"}),r.jsx("div",{className:"space-y-2",children:n.filter(e=>e.isActive).map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("input",{type:"checkbox",id:e.id,checked:u.assignedSchools.includes(e.id),onChange:()=>h(e.id),className:"rounded border-gray-300 text-brand-primary focus:ring-brand-primary"}),r.jsx("label",{htmlFor:e.id,className:"text-sm font-medium leading-none cursor-pointer flex-1",children:(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:e.name}),r.jsx("p",{className:"text-xs text-gray-500",children:e.address})]})})]},e.id))}),0===n.filter(e=>e.isActive).length&&r.jsx(C.DE,{message:"No active schools available for assignment"})]})]}),(0,r.jsxs)(k.cN,{children:[r.jsx(v.z,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),r.jsx(v.z,{type:"submit",disabled:c,children:c?"Saving...":"create"===l?"Create User":"Save Changes"})]})]})]})})}function L(){let[e,s]=(0,a.useState)([]),[t,w]=(0,a.useState)([]),[S,k]=(0,a.useState)({totalUsers:0,totalProviders:0,totalAdmins:0,activeUsers:0,inactiveUsers:0}),[A,C]=(0,a.useState)(new Set),[q,U]=(0,a.useState)(""),[E,M]=(0,a.useState)("all"),[L,F]=(0,a.useState)("all"),[O,J]=(0,a.useState)(!0),[$,V]=(0,a.useState)(null),[G,H]=(0,a.useState)(!1),[X,Y]=(0,a.useState)(null),[K,B]=(0,a.useState)("create"),W=async()=>{try{J(!0),V(null);let[e,t]=await Promise.all([Z(),_()]);s(e),k(t)}catch(e){console.error("Error loading users:",e),V("Failed to load users. Please try again.")}finally{J(!1)}},Q=async e=>{if(U(e),e.trim())try{let s=await R(e);w(s)}catch(e){console.error("Error searching users:",e)}},ee=async(e,s)=>{try{await z(e,s),await W()}catch(e){console.error("Error updating user role:",e),V("Failed to update user role")}},es=async(e,s)=>{try{await P(e,!s),await W()}catch(e){console.error("Error updating user status:",e),V("Failed to update user status")}},et=e=>{Y(e),B("edit"),H(!0)},er=async()=>{await W()},ea=(e,s)=>{let t=new Set(A);s?t.add(e):t.delete(e),C(t)},ei=async e=>{try{await D(Array.from(A),e),C(new Set),await W()}catch(e){console.error("Error bulk updating user status:",e),V("Failed to update users")}},el=async()=>{if(confirm(`Are you sure you want to delete ${A.size} users? This action cannot be undone.`))try{await T(Array.from(A)),C(new Set),await W()}catch(e){console.error("Error bulk deleting users:",e),V("Failed to delete users")}},en=e=>"admin"===e?"destructive":"secondary",eo=e=>e?"default":"secondary";return O?(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("h1",{className:"text-3xl font-bold",children:"User Management"})}),r.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,r.jsxs)(j.Zb,{className:"animate-pulse",children:[r.jsx(j.Ol,{className:"pb-2",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})}),r.jsx(j.aY,{children:r.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})})]},s))})]}):(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold",children:"User Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage user accounts and role assignments"})]}),(0,r.jsxs)(v.z,{onClick:()=>{Y(null),B("create"),H(!0)},children:[r.jsx(l.Z,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),$&&r.jsx(N.bZ,{variant:"destructive",children:r.jsx(N.X,{children:$})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:S.totalUsers}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Users"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsx("div",{className:"text-2xl font-bold text-brand-primary",children:S.totalProviders}),r.jsx("div",{className:"text-sm text-gray-600",children:"Providers"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-600",children:S.totalAdmins}),r.jsx("div",{className:"text-sm text-gray-600",children:"Admins"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsx("div",{className:"text-2xl font-bold text-green-600",children:S.activeUsers}),r.jsx("div",{className:"text-sm text-gray-600",children:"Active"})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border",children:[r.jsx("div",{className:"text-2xl font-bold text-red-600",children:S.inactiveUsers}),r.jsx("div",{className:"text-sm text-gray-600",children:"Inactive"})]})]}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,r.jsxs)("div",{className:"relative flex-1 max-w-md",children:[r.jsx(n.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),r.jsx(f.I,{placeholder:"Search users by name or email...",value:q,onChange:e=>Q(e.target.value),className:"pl-10"})]}),(0,r.jsxs)("select",{value:E,onChange:e=>M(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"active",children:"Active"}),r.jsx("option",{value:"inactive",children:"Inactive"})]}),(0,r.jsxs)("select",{value:L,onChange:e=>F(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"all",children:"All Roles"}),r.jsx("option",{value:"provider",children:"Providers"}),r.jsx("option",{value:"admin",children:"Admins"})]}),(0,r.jsxs)(v.z,{variant:"outline",onClick:()=>{let e=new Blob([["Email,Display Name,Role,Status,Assigned Schools,Created At,Last Sign In",...t.map(e=>[e.email||"",e.displayName||"",e.role,e.isActive?"Active":"Inactive",e.assignedSchools?.length||0,e.createdAt?.toDate?.()?.toLocaleDateString()||"",e.lastSignIn?.toDate?.()?.toLocaleDateString()||"Never"].join(","))].join("\n")],{type:"text/csv"}),s=window.URL.createObjectURL(e),r=document.createElement("a");r.href=s,r.download=`users-export-${new Date().toISOString().split("T")[0]}.csv`,r.click(),window.URL.revokeObjectURL(s)},children:[r.jsx(o.Z,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})}),A.size>0&&(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 status-brand border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm font-medium text-brand-primary",children:[A.size," users selected"]}),(0,r.jsxs)(v.z,{variant:"outline",size:"sm",onClick:()=>ei(!0),disabled:O,children:[r.jsx(c.Z,{className:"h-4 w-4 mr-2"}),"Activate"]}),(0,r.jsxs)(v.z,{variant:"outline",size:"sm",onClick:()=>ei(!1),disabled:O,children:[r.jsx(d,{className:"h-4 w-4 mr-2"}),"Deactivate"]}),(0,r.jsxs)(v.z,{variant:"outline",size:"sm",onClick:el,disabled:O,className:"text-red-600 hover:text-red-700",children:[r.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),r.jsx(v.z,{variant:"ghost",size:"sm",onClick:()=>C(new Set),children:"Clear Selection"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg border",children:[r.jsx("div",{className:"p-4 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("h2",{className:"text-lg font-semibold",children:["Users (",t.length,")"]}),(0,r.jsxs)(v.z,{variant:"outline",size:"sm",onClick:()=>{A.size===t.length?C(new Set):C(new Set(t.map(e=>e.id)))},className:"flex items-center",children:[A.size===t.length?r.jsx(x.Z,{className:"h-4 w-4 mr-2"}):r.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Select All"]})]})}),(0,r.jsxs)("div",{className:"divide-y divide-gray-200",children:[t.map(e=>r.jsx("div",{className:"p-4 hover:bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("input",{type:"checkbox",checked:A.has(e.id),onChange:s=>ea(e.id,s.target.checked),className:"rounded border-gray-300 text-brand-primary focus:ring-brand-primary"}),r.jsx("div",{className:"flex-shrink-0",children:r.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:e.photoURL?r.jsx(i.X,{src:e.photoURL,alt:e.displayName||"User",size:40,fallback:r.jsx(m.Z,{className:"h-5 w-5 text-gray-600"})}):r.jsx(m.Z,{className:"h-5 w-5 text-gray-600"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.displayName||"No name"}),r.jsx(b.C,{variant:en(e.role),children:e.role}),r.jsx(b.C,{variant:eo(e.isActive),children:e.isActive?"Active":"Inactive"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 mt-1",children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500 flex items-center",children:[r.jsx(p.Z,{className:"h-3 w-3 mr-1"}),e.email]}),e.assignedSchools&&e.assignedSchools.length>0&&(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[e.assignedSchools.length," schools assigned"]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500 flex items-center",children:[r.jsx(g.Z,{className:"h-3 w-3 mr-1"}),"Joined"," ",e.createdAt?.toDate?.()?.toLocaleDateString()||"Unknown"]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("select",{value:e.role,onChange:s=>ee(e.id,s.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"provider",children:"Provider"}),r.jsx("option",{value:"admin",children:"Admin"})]}),(0,r.jsxs)(v.z,{variant:"outline",size:"sm",onClick:()=>es(e.id,e.isActive),className:e.isActive?"text-red-600":"text-green-600",children:[e.isActive?r.jsx(d,{className:"h-4 w-4 mr-1"}):r.jsx(c.Z,{className:"h-4 w-4 mr-1"}),e.isActive?"Deactivate":"Activate"]}),(0,r.jsxs)(v.z,{variant:"outline",size:"sm",onClick:()=>et(e),children:[r.jsx(y.Z,{className:"h-4 w-4 mr-1"}),"Edit"]}),r.jsx(v.z,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:r.jsx(u.Z,{className:"h-4 w-4"})})]})]})},e.id)),0===t.length&&(0,r.jsxs)("div",{className:"p-8 text-center",children:[r.jsx(m.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500",children:"No users found matching your criteria"})]})]})]}),r.jsx(I,{user:X,isOpen:G,onClose:()=>{H(!1),Y(null)},onSave:er,mode:K})]})}function F(){return r.jsx(w.ProtectedRoute,{roles:["admin"],children:r.jsx(S.AdminNavigation,{children:r.jsx(L,{})})})}},6316:(e,s,t)=>{"use strict";let r;t.r(s),t.d(s,{default:()=>h,generateImageMetadata:()=>u,generateMetadata:()=>d,generateViewport:()=>x});var a=t(54580),i=t(17369),l=t(21967),n=(0,i.createProxy)(String.raw`/Users/arthurturnbull/Developer/schools-in/src/app/admin/users/page.tsx#default`);let o={...a},c="workUnitAsyncStorage"in o?o.workUnitAsyncStorage:"requestAsyncStorage"in o?o.requestAsyncStorage:void 0;r="function"==typeof n?new Proxy(n,{apply:(e,s,t)=>{let r,a,i;try{let e=c?.getStore();r=e?.headers.get("sentry-trace")??void 0,a=e?.headers.get("baggage")??void 0,i=e?.headers}catch{}return l.wrapServerComponentWithSentry(e,{componentRoute:"/admin/users",componentType:"Page",sentryTraceHeader:r,baggageHeader:a,headers:i}).apply(s,t)}}):n;let d=void 0,u=void 0,x=void 0,h=r},30690:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>h,tree:()=>c}),t(6316),t(55157),t(26578),t(67641),t(14844);var r=t(95537),a=t(85358),i=t(24957),l=t.n(i),n=t(8666),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["admin",{children:["users",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,6316)),"/Users/arthurturnbull/Developer/schools-in/src/app/admin/users/page.tsx"]}]},{}]},{error:[()=>Promise.resolve().then(t.bind(t,55157)),"/Users/arthurturnbull/Developer/schools-in/src/app/admin/error.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,26578)),"/Users/arthurturnbull/Developer/schools-in/src/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,67641)),"/Users/arthurturnbull/Developer/schools-in/src/app/error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,14844)),"/Users/arthurturnbull/Developer/schools-in/src/app/not-found.tsx"]}],d=["/Users/arthurturnbull/Developer/schools-in/src/app/admin/users/page.tsx"],u="/admin/users/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/users/page",pathname:"/admin/users",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},58928:(e,s,t)=>{Promise.resolve().then(t.bind(t,16660))},21301:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(59141).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},25745:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(59141).Z)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},82268:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(59141).Z)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},38419:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(59141).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},66693:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(59141).Z)("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},22604:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(59141).Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},81915:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(59141).Z)("user-check",[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},84600:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(59141).Z)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},87597:(e,s,t)=>{"use strict";t.d(s,{DE:()=>f,Te:()=>g,XE:()=>v,ub:()=>y});var r=t(28002);t(22488);var a=t(8903),i=t(10499),l=t(81982),n=t(8991),o=t(63883),c=t(98979),d=t(51963),u=t(91144),x=t(81012),h=t(34687),m=t(78992),p=t(16885);function g({title:e,message:s,actionLabel:t="Try Again",onAction:o,type:c="generic",showRetry:d=!0,className:u=""}){let x=(()=>{switch(c){case"network":return{icon:a.Z,defaultTitle:"Connection Error",defaultMessage:"Unable to connect to the server. Please check your internet connection and try again.",iconColor:"text-red-500"};case"auth":return{icon:i.Z,defaultTitle:"Authentication Error",defaultMessage:"You need to be signed in to access this feature. Please sign in and try again.",iconColor:"text-orange-500"};case"location":return{icon:l.Z,defaultTitle:"Location Error",defaultMessage:"Unable to access your location. Please enable location services and try again.",iconColor:"text-blue-500"};case"permission":return{icon:i.Z,defaultTitle:"Permission Denied",defaultMessage:"You don't have permission to access this feature. Please contact your administrator.",iconColor:"text-red-500"};default:return{icon:i.Z,defaultTitle:"Something went wrong",defaultMessage:"An unexpected error occurred. Please try again.",iconColor:"text-red-500"}}})(),m=x.icon;return r.jsx(p.Zb,{className:`text-center ${u}`,children:r.jsx(p.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(m,{className:`h-12 w-12 ${x.iconColor}`}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e||x.defaultTitle}),r.jsx("p",{className:"text-sm text-gray-600 max-w-sm",children:s||x.defaultMessage})]}),d&&o&&(0,r.jsxs)(h.z,{onClick:o,variant:"outline",className:"mt-4",children:[r.jsx(n.Z,{className:"h-4 w-4 mr-2"}),t]})]})})})}function y({title:e,message:s,actionLabel:t="Get Started",onAction:a,type:i="generic",showAction:l=!0,className:n=""}){let m=(()=>{switch(i){case"schools":return{icon:o.Z,defaultTitle:"No schools assigned",defaultMessage:"You don't have any schools assigned yet. Contact your administrator to get started.",defaultAction:"Contact Support",iconColor:"text-blue-500"};case"sessions":return{icon:c.Z,defaultTitle:"No sessions found",defaultMessage:"No check-in sessions have been recorded yet. Start your first session to see it here.",defaultAction:"Start Session",iconColor:"text-green-500"};case"users":return{icon:d.Z,defaultTitle:"No users found",defaultMessage:"No users match your current filters. Try adjusting your search criteria.",defaultAction:"Clear Filters",iconColor:"text-purple-500"};case"search":return{icon:u.Z,defaultTitle:"No results found",defaultMessage:"We couldn't find anything matching your search. Try different keywords or check your spelling.",defaultAction:"Clear Search",iconColor:"text-gray-500"};case"assignments":return{icon:x.Z,defaultTitle:"No assignments",defaultMessage:"No assignments have been created yet. Create your first assignment to get started.",defaultAction:"Create Assignment",iconColor:"text-indigo-500"};case"reports":return{icon:x.Z,defaultTitle:"No reports available",defaultMessage:"No reports are available for the selected criteria. Try adjusting your filters.",defaultAction:"Clear Filters",iconColor:"text-orange-500"};default:return{icon:x.Z,defaultTitle:"Nothing here yet",defaultMessage:"This section is empty. Start by adding some content.",defaultAction:"Get Started",iconColor:"text-gray-500"}}})(),g=m.icon;return r.jsx(p.Zb,{className:`text-center ${n}`,children:r.jsx(p.aY,{className:"pt-6",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[r.jsx(g,{className:`h-12 w-12 ${m.iconColor}`}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e||m.defaultTitle}),r.jsx("p",{className:"text-sm text-gray-600 max-w-sm",children:s||m.defaultMessage})]}),l&&a&&r.jsx(h.z,{onClick:a,className:"mt-4",children:t||m.defaultAction})]})})})}function v({message:e="Something went wrong",onRetry:s,className:t=""}){return(0,r.jsxs)(m.bZ,{variant:"destructive",className:t,children:[r.jsx(i.Z,{className:"h-4 w-4"}),r.jsx(m.Cd,{children:"Error"}),(0,r.jsxs)(m.X,{className:"flex items-center justify-between",children:[r.jsx("span",{children:e}),s&&(0,r.jsxs)(h.z,{variant:"outline",size:"sm",onClick:s,className:"ml-2 h-7",children:[r.jsx(n.Z,{className:"h-3 w-3 mr-1"}),"Retry"]})]})]})}function f({message:e="Nothing to show",className:s=""}){return r.jsx("div",{className:`text-center py-8 text-gray-500 ${s}`,children:r.jsx("p",{className:"text-sm",children:e})})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[454,982,5,750,146],()=>t(30690));module.exports=r})();
//# sourceMappingURL=page.js.map