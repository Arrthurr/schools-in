{"version":3,"file":"../app/admin/users/page.js","mappings":"ocAAAA,CAAAA,EAAAC,OAAA,CAAAC,QAAA,uFCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,wFCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,kGCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,kFCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,sCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,wCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,iCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,8CCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,8BCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,iCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,6BCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,+BCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,gCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,iCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,8BCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,6BCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,+BCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,qCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,kCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,iCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,8BCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,8BCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,8BCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,8BCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,yCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,+BCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,6CCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,mDCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,kCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,oCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,qCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,yCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,mCCAAF,CAAAA,EAAAC,OAAA,CAAAC,QAAA,kCCAAF,CAA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","sources":["webpack://schools-in/external commonjs \"next/dist/client/components/action-async-storage.external.js\"","webpack://schools-in/external commonjs \"next/dist/client/components/request-async-storage.external.js\"","webpack://schools-in/external commonjs \"next/dist/client/components/static-generation-async-storage.external.js\"","webpack://schools-in/external commonjs \"next/dist/compiled/next-server/app-page.runtime.prod.js\"","webpack://schools-in/external commonjs2 \"async_hooks\"","webpack://schools-in/external commonjs2 \"child_process\"","webpack://schools-in/external commonjs2 \"crypto\"","webpack://schools-in/external commonjs2 \"diagnostics_channel\"","webpack://schools-in/external commonjs2 \"dns\"","webpack://schools-in/external commonjs2 \"events\"","webpack://schools-in/external commonjs2 \"fs\"","webpack://schools-in/external commonjs2 \"http\"","webpack://schools-in/external commonjs2 \"http2\"","webpack://schools-in/external commonjs2 \"module\"","webpack://schools-in/external commonjs2 \"net\"","webpack://schools-in/external commonjs2 \"os\"","webpack://schools-in/external commonjs2 \"path\"","webpack://schools-in/external commonjs2 \"perf_hooks\"","webpack://schools-in/external commonjs2 \"process\"","webpack://schools-in/external commonjs2 \"stream\"","webpack://schools-in/external commonjs2 \"tls\"","webpack://schools-in/external commonjs2 \"tty\"","webpack://schools-in/external commonjs2 \"url\"","webpack://schools-in/external commonjs2 \"util\"","webpack://schools-in/external commonjs2 \"worker_threads\"","webpack://schools-in/external commonjs2 \"zlib\"","webpack://schools-in/external node-commonjs \"node:child_process\"","webpack://schools-in/external node-commonjs \"node:diagnostics_channel\"","webpack://schools-in/external node-commonjs \"node:fs\"","webpack://schools-in/external node-commonjs \"node:http\"","webpack://schools-in/external node-commonjs \"node:https\"","webpack://schools-in/external node-commonjs \"node:inspector\"","webpack://schools-in/external node-commonjs \"node:net\"","webpack://schools-in/external node-commonjs \"node:os\"","webpack://schools-in/external node-commonjs \"node:path\"","webpack://schools-in/external node-commonjs \"node:readline\"","webpack://schools-in/external node-commonjs \"node:stream\"","webpack://schools-in/external node-commonjs \"node:tls\"","webpack://schools-in/external node-commonjs \"node:util\"","webpack://schools-in/external node-commonjs \"node:worker_threads\"","webpack://schools-in/external node-commonjs \"node:zlib\"","webpack://schools-in/../../../src/icons/user-x.ts","webpack://schools-in/./src/lib/services/userService.ts","webpack://schools-in/./src/components/admin/UserForm.tsx","webpack://schools-in/./src/app/admin/users/page.tsx","webpack://schools-in/sentry-wrapper-module","webpack://schools-in/?ee11","webpack://schools-in/?34f9","webpack://schools-in/../../../src/icons/calendar.ts","webpack://schools-in/../../../src/icons/mail.ts","webpack://schools-in/../../../src/icons/square-check-big.ts","webpack://schools-in/../../../src/icons/square-pen.ts","webpack://schools-in/../../../src/icons/square.ts","webpack://schools-in/../../../src/icons/trash-2.ts","webpack://schools-in/../../../src/icons/user-check.ts","webpack://schools-in/../../../src/icons/user-plus.ts","webpack://schools-in/./src/components/ui/error-empty-states.tsx"],"sourcesContent":["module.exports = require(\"next/dist/client/components/action-async-storage.external.js\");","module.exports = require(\"next/dist/client/components/request-async-storage.external.js\");","module.exports = require(\"next/dist/client/components/static-generation-async-storage.external.js\");","module.exports = require(\"next/dist/compiled/next-server/app-page.runtime.prod.js\");","module.exports = require(\"async_hooks\");","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"diagnostics_channel\");","module.exports = require(\"dns\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"http2\");","module.exports = require(\"module\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"perf_hooks\");","module.exports = require(\"process\");","module.exports = require(\"stream\");","module.exports = require(\"tls\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"worker_threads\");","module.exports = require(\"zlib\");","module.exports = require(\"node:child_process\");","module.exports = require(\"node:diagnostics_channel\");","module.exports = require(\"node:fs\");","module.exports = require(\"node:http\");","module.exports = require(\"node:https\");","module.exports = require(\"node:inspector\");","module.exports = require(\"node:net\");","module.exports = require(\"node:os\");","module.exports = require(\"node:path\");","module.exports = require(\"node:readline\");","module.exports = require(\"node:stream\");","module.exports = require(\"node:tls\");","module.exports = require(\"node:util\");","module.exports = require(\"node:worker_threads\");","module.exports = require(\"node:zlib\");","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '17', x2: '22', y1: '8', y2: '13', key: '3nzzx3' }],\n  ['line', { x1: '22', x2: '17', y1: '8', y2: '13', key: '1swrse' }],\n];\n\n/**\n * @component @name UserX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTciIHgyPSIyMiIgeTE9IjgiIHkyPSIxMyIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNyIgeTE9IjgiIHkyPSIxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/user-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserX = createLucideIcon('user-x', __iconNode);\n\nexport default UserX;\n","// Service for handling user data operations and role management\n\nimport {\n  collection,\n  query,\n  where,\n  orderBy,\n  getDocs,\n  doc,\n  updateDoc,\n  deleteDoc,\n  getDoc,\n  writeBatch,\n  Timestamp,\n} from \"firebase/firestore\";\nimport { db } from \"../../../firebase.config\";\nimport { COLLECTIONS } from \"../firebase/firestore\";\n\nexport interface UserRecord {\n  id: string;\n  uid: string;\n  email: string | null;\n  displayName: string | null;\n  role: \"provider\" | \"admin\";\n  assignedSchools?: string[];\n  createdAt: Timestamp;\n  lastSignIn?: Timestamp;\n  isActive: boolean;\n  photoURL?: string | null;\n}\n\nexport interface UserFormData {\n  displayName: string;\n  email: string;\n  role: \"provider\" | \"admin\";\n  assignedSchools?: string[];\n  isActive: boolean;\n}\n\nexport interface UserStats {\n  totalUsers: number;\n  totalProviders: number;\n  totalAdmins: number;\n  activeUsers: number;\n  inactiveUsers: number;\n}\n\n// Get all users with optional filtering\nexport const getAllUsers = async (filters?: {\n  role?: \"provider\" | \"admin\";\n  isActive?: boolean;\n}): Promise<UserRecord[]> => {\n  try {\n    let q = query(\n      collection(db, COLLECTIONS.USERS),\n      orderBy(\"createdAt\", \"desc\")\n    );\n\n    if (filters?.role) {\n      q = query(q, where(\"role\", \"==\", filters.role));\n    }\n\n    if (filters?.isActive !== undefined) {\n      q = query(q, where(\"isActive\", \"==\", filters.isActive));\n    }\n\n    const querySnapshot = await getDocs(q);\n    return querySnapshot.docs.map((doc) => ({\n      id: doc.id,\n      ...doc.data(),\n    })) as UserRecord[];\n  } catch (error) {\n    console.error(\"Error getting users:\", error);\n    throw new Error(\"Failed to fetch users\");\n  }\n};\n\n// Get user by ID\nexport const getUserById = async (\n  userId: string\n): Promise<UserRecord | null> => {\n  try {\n    const userDoc = await getDoc(doc(db, COLLECTIONS.USERS, userId));\n    if (userDoc.exists()) {\n      return {\n        id: userDoc.id,\n        ...userDoc.data(),\n      } as UserRecord;\n    }\n    return null;\n  } catch (error) {\n    console.error(\"Error getting user:\", error);\n    throw new Error(\"Failed to fetch user\");\n  }\n};\n\n// Update user role\nexport const updateUserRole = async (\n  userId: string,\n  role: \"provider\" | \"admin\"\n): Promise<void> => {\n  try {\n    const userRef = doc(db, COLLECTIONS.USERS, userId);\n    await updateDoc(userRef, {\n      role,\n      updatedAt: Timestamp.now(),\n    });\n  } catch (error) {\n    console.error(\"Error updating user role:\", error);\n    throw new Error(\"Failed to update user role\");\n  }\n};\n\n// Toggle user active status\nexport const toggleUserStatus = async (\n  userId: string,\n  isActive: boolean\n): Promise<void> => {\n  try {\n    const userRef = doc(db, COLLECTIONS.USERS, userId);\n    await updateDoc(userRef, {\n      isActive,\n      updatedAt: Timestamp.now(),\n    });\n  } catch (error) {\n    console.error(\"Error updating user status:\", error);\n    throw new Error(\"Failed to update user status\");\n  }\n};\n\n// Update user's assigned schools (for providers)\nexport const updateUserSchools = async (\n  userId: string,\n  assignedSchools: string[]\n): Promise<void> => {\n  try {\n    const userRef = doc(db, COLLECTIONS.USERS, userId);\n    await updateDoc(userRef, {\n      assignedSchools,\n      updatedAt: Timestamp.now(),\n    });\n  } catch (error) {\n    console.error(\"Error updating user schools:\", error);\n    throw new Error(\"Failed to update user schools\");\n  }\n};\n\n// Update user profile information\nexport const updateUserProfile = async (\n  userId: string,\n  data: Partial<UserFormData>\n): Promise<void> => {\n  try {\n    const userRef = doc(db, COLLECTIONS.USERS, userId);\n    await updateDoc(userRef, {\n      ...data,\n      updatedAt: Timestamp.now(),\n    });\n  } catch (error) {\n    console.error(\"Error updating user profile:\", error);\n    throw new Error(\"Failed to update user profile\");\n  }\n};\n\n// Delete user\nexport const deleteUser = async (userId: string): Promise<void> => {\n  try {\n    await deleteDoc(doc(db, COLLECTIONS.USERS, userId));\n  } catch (error) {\n    console.error(\"Error deleting user:\", error);\n    throw new Error(\"Failed to delete user\");\n  }\n};\n\n// Bulk operations for users\nexport const bulkUpdateUserStatus = async (\n  userIds: string[],\n  isActive: boolean\n): Promise<void> => {\n  try {\n    const batch = writeBatch(db);\n    const timestamp = Timestamp.now();\n\n    userIds.forEach((userId) => {\n      const userRef = doc(db, COLLECTIONS.USERS, userId);\n      batch.update(userRef, {\n        isActive,\n        updatedAt: timestamp,\n      });\n    });\n\n    await batch.commit();\n  } catch (error) {\n    console.error(\"Error bulk updating user status:\", error);\n    throw new Error(\"Failed to bulk update user status\");\n  }\n};\n\nexport const bulkDeleteUsers = async (userIds: string[]): Promise<void> => {\n  try {\n    const batch = writeBatch(db);\n\n    userIds.forEach((userId) => {\n      const userRef = doc(db, COLLECTIONS.USERS, userId);\n      batch.delete(userRef);\n    });\n\n    await batch.commit();\n  } catch (error) {\n    console.error(\"Error bulk deleting users:\", error);\n    throw new Error(\"Failed to bulk delete users\");\n  }\n};\n\n// Get user statistics\nexport const getUserStats = async (): Promise<UserStats> => {\n  try {\n    const usersSnapshot = await getDocs(collection(db, COLLECTIONS.USERS));\n    const users = usersSnapshot.docs.map((doc) => doc.data()) as UserRecord[];\n\n    const stats: UserStats = {\n      totalUsers: users.length,\n      totalProviders: users.filter((user) => user.role === \"provider\").length,\n      totalAdmins: users.filter((user) => user.role === \"admin\").length,\n      activeUsers: users.filter((user) => user.isActive).length,\n      inactiveUsers: users.filter((user) => !user.isActive).length,\n    };\n\n    return stats;\n  } catch (error) {\n    console.error(\"Error getting user stats:\", error);\n    throw new Error(\"Failed to fetch user statistics\");\n  }\n};\n\n// Get providers with assigned schools\nexport const getProvidersWithSchools = async (): Promise<UserRecord[]> => {\n  try {\n    const q = query(\n      collection(db, COLLECTIONS.USERS),\n      where(\"role\", \"==\", \"provider\"),\n      orderBy(\"displayName\")\n    );\n\n    const querySnapshot = await getDocs(q);\n    return querySnapshot.docs.map((doc) => ({\n      id: doc.id,\n      ...doc.data(),\n    })) as UserRecord[];\n  } catch (error) {\n    console.error(\"Error getting providers:\", error);\n    throw new Error(\"Failed to fetch providers\");\n  }\n};\n\n// Search users by email or display name\nexport const searchUsers = async (\n  searchTerm: string\n): Promise<UserRecord[]> => {\n  try {\n    // Note: Firestore doesn't support full-text search natively\n    // For production, consider using Algolia or similar service\n    const usersSnapshot = await getDocs(collection(db, COLLECTIONS.USERS));\n    const users = usersSnapshot.docs.map((doc) => ({\n      id: doc.id,\n      ...doc.data(),\n    })) as UserRecord[];\n\n    const searchLower = searchTerm.toLowerCase();\n    return users.filter(\n      (user) =>\n        user.email?.toLowerCase().includes(searchLower) ||\n        user.displayName?.toLowerCase().includes(searchLower)\n    );\n  } catch (error) {\n    console.error(\"Error searching users:\", error);\n    throw new Error(\"Failed to search users\");\n  }\n};\n","\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { X } from \"lucide-react\";\nimport { CompactEmptyState } from \"../ui/error-empty-states\";\nimport { UserRecord, updateUserProfile } from \"@/lib/services/userService\";\n\ninterface School {\n  id: string;\n  name: string;\n  address: string;\n  isActive: boolean;\n}\n\ninterface UserFormProps {\n  user?: UserRecord | null;\n  isOpen: boolean;\n  onClose: () => void;\n  onSave: () => void;\n  mode: \"create\" | \"edit\";\n}\n\nexport function UserForm({\n  user,\n  isOpen,\n  onClose,\n  onSave,\n  mode,\n}: UserFormProps) {\n  const [schools, setSchools] = useState<School[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [formData, setFormData] = useState({\n    displayName: \"\",\n    email: \"\",\n    role: \"provider\" as \"provider\" | \"admin\",\n    isActive: true,\n    assignedSchools: [] as string[],\n  });\n\n  useEffect(() => {\n    loadSchools();\n  }, []);\n\n  useEffect(() => {\n    if (user && mode === \"edit\") {\n      setFormData({\n        displayName: user.displayName || \"\",\n        email: user.email || \"\",\n        role: user.role,\n        isActive: user.isActive,\n        assignedSchools: user.assignedSchools || [],\n      });\n    } else if (mode === \"create\") {\n      setFormData({\n        displayName: \"\",\n        email: \"\",\n        role: \"provider\",\n        isActive: true,\n        assignedSchools: [],\n      });\n    }\n  }, [user, mode]);\n\n  const loadSchools = async () => {\n    try {\n      // Mock school data for now - replace with actual service call\n      const mockSchools = [\n        {\n          id: \"1\",\n          name: \"Walter Payton HS\",\n          address: \"1034 N Wells St\",\n          isActive: true,\n        },\n        {\n          id: \"2\",\n          name: \"Estrella Foothills HS\",\n          address: \"18315 W Lower Buckeye Rd\",\n          isActive: true,\n        },\n        {\n          id: \"3\",\n          name: \"Augustus Tolton\",\n          address: \"1729 S Ashland Ave\",\n          isActive: true,\n        },\n        {\n          id: \"4\",\n          name: \"Cambridge School\",\n          address: \"1047 W 47th St\",\n          isActive: true,\n        },\n        {\n          id: \"5\",\n          name: \"Chicago SDA Academy\",\n          address: \"7347 S Emerald Ave\",\n          isActive: false,\n        },\n      ];\n      setSchools(mockSchools);\n    } catch (error) {\n      console.error(\"Error loading schools:\", error);\n    }\n  };\n\n  const handleSchoolToggle = (schoolId: string) => {\n    const updated = formData.assignedSchools.includes(schoolId)\n      ? formData.assignedSchools.filter((id) => id !== schoolId)\n      : [...formData.assignedSchools, schoolId];\n\n    setFormData((prev) => ({ ...prev, assignedSchools: updated }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    try {\n      setIsLoading(true);\n\n      if (mode === \"edit\" && user) {\n        await updateUserProfile(user.id, formData);\n      } else {\n        // TODO: Implement user creation logic\n        console.log(\"Creating user:\", formData);\n      }\n\n      onSave();\n      onClose();\n    } catch (error) {\n      console.error(\"Error saving user:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const getSchoolName = (schoolId: string) => {\n    const school = schools.find((s) => s.id === schoolId);\n    return school?.name || schoolId;\n  };\n\n  return (\n    <Dialog open={isOpen} onOpenChange={onClose}>\n      <DialogContent className=\"sm:max-w-[600px] max-h-[80vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>\n            {mode === \"create\"\n              ? \"Create New User\"\n              : `Edit ${user?.displayName || \"User\"}`}\n          </DialogTitle>\n          <DialogDescription>\n            {mode === \"create\"\n              ? \"Add a new user to the system and assign their role.\"\n              : \"Update user information and role assignments.\"}\n          </DialogDescription>\n        </DialogHeader>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Display Name\n              </label>\n              <Input\n                placeholder=\"Enter full name\"\n                value={formData.displayName}\n                onChange={(e) =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    displayName: e.target.value,\n                  }))\n                }\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Email\n              </label>\n              <Input\n                type=\"email\"\n                placeholder=\"user@example.com\"\n                value={formData.email}\n                onChange={(e) =>\n                  setFormData((prev) => ({ ...prev, email: e.target.value }))\n                }\n                disabled={mode === \"edit\"}\n                required\n              />\n              {mode === \"edit\" && (\n                <p className=\"text-xs text-gray-500 mt-1\">\n                  Email cannot be changed after user creation\n                </p>\n              )}\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Role\n              </label>\n              <select\n                value={formData.role}\n                onChange={(e) =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    role: e.target.value as \"provider\" | \"admin\",\n                  }))\n                }\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                required\n              >\n                <option value=\"provider\">Provider</option>\n                <option value=\"admin\">Admin</option>\n              </select>\n              <p className=\"text-xs text-gray-500 mt-1\">\n                {formData.role === \"admin\"\n                  ? \"Full system access and management capabilities\"\n                  : \"Access to assigned schools and check-in/out functionality\"}\n              </p>\n            </div>\n\n            <div className=\"flex items-center space-x-3 p-4 border rounded-lg\">\n              <input\n                type=\"checkbox\"\n                checked={formData.isActive}\n                onChange={(e) =>\n                  setFormData((prev) => ({\n                    ...prev,\n                    isActive: e.target.checked,\n                  }))\n                }\n                className=\"rounded border-gray-300 text-brand-primary focus:ring-brand-primary\"\n              />\n              <div>\n                <label className=\"text-sm font-medium text-gray-700\">\n                  Active User\n                </label>\n                <p className=\"text-xs text-gray-500\">\n                  Inactive users cannot sign in to the system\n                </p>\n              </div>\n            </div>\n          </div>\n\n          {/* School Assignment - Only for Providers */}\n          {formData.role === \"provider\" && (\n            <div className=\"space-y-4\">\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Assigned Schools\n              </label>\n\n              {/* Selected Schools */}\n              {formData.assignedSchools.length > 0 && (\n                <div className=\"space-y-2\">\n                  <p className=\"text-sm text-gray-600\">\n                    Selected schools ({formData.assignedSchools.length}):\n                  </p>\n                  <div className=\"flex flex-wrap gap-2\">\n                    {formData.assignedSchools.map((schoolId) => (\n                      <Badge\n                        key={schoolId}\n                        variant=\"secondary\"\n                        className=\"pr-1\"\n                      >\n                        {getSchoolName(schoolId)}\n                        <Button\n                          type=\"button\"\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          className=\"h-auto p-1 ml-2\"\n                          onClick={() => handleSchoolToggle(schoolId)}\n                        >\n                          <X className=\"h-3 w-3\" />\n                        </Button>\n                      </Badge>\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* School Selection */}\n              <div className=\"border rounded-lg p-4 max-h-40 overflow-y-auto\">\n                <p className=\"text-sm font-medium mb-3\">Available Schools:</p>\n                <div className=\"space-y-2\">\n                  {schools\n                    .filter((school) => school.isActive)\n                    .map((school) => (\n                      <div\n                        key={school.id}\n                        className=\"flex items-center space-x-2\"\n                      >\n                        <input\n                          type=\"checkbox\"\n                          id={school.id}\n                          checked={formData.assignedSchools.includes(school.id)}\n                          onChange={() => handleSchoolToggle(school.id)}\n                          className=\"rounded border-gray-300 text-brand-primary focus:ring-brand-primary\"\n                        />\n                        <label\n                          htmlFor={school.id}\n                          className=\"text-sm font-medium leading-none cursor-pointer flex-1\"\n                        >\n                          <div>\n                            <p className=\"font-medium\">{school.name}</p>\n                            <p className=\"text-xs text-gray-500\">\n                              {school.address}\n                            </p>\n                          </div>\n                        </label>\n                      </div>\n                    ))}\n                </div>\n                {schools.filter((school) => school.isActive).length === 0 && (\n                  <CompactEmptyState message=\"No active schools available for assignment\" />\n                )}\n              </div>\n            </div>\n          )}\n\n          <DialogFooter>\n            <Button type=\"button\" variant=\"outline\" onClick={onClose}>\n              Cancel\n            </Button>\n            <Button type=\"submit\" disabled={isLoading}>\n              {isLoading\n                ? \"Saving...\"\n                : mode === \"create\"\n                ? \"Create User\"\n                : \"Save Changes\"}\n            </Button>\n          </DialogFooter>\n        </form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { OptimizedAvatar } from \"@/components/ui/optimized-image\";\nimport {\n  Users,\n  Search,\n  Filter,\n  UserPlus,\n  Edit,\n  Trash2,\n  Shield,\n  UserCheck,\n  UserX,\n  MoreVertical,\n  Download,\n  CheckSquare,\n  Square,\n  Mail,\n  Calendar,\n  Settings,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Alert, AlertDescription } from \"@/components/ui/alert\";\nimport { ProtectedRoute } from \"@/components/auth/ProtectedRoute\";\nimport { AdminNavigation } from \"@/components/admin/AdminNavigation\";\nimport { UserForm } from \"@/components/admin/UserForm\";\nimport {\n  getAllUsers,\n  getUserStats,\n  updateUserRole,\n  toggleUserStatus,\n  bulkUpdateUserStatus,\n  bulkDeleteUsers,\n  searchUsers,\n  UserRecord,\n  UserStats,\n} from \"@/lib/services/userService\";\n\nfunction UserManagementContent() {\n  const [users, setUsers] = useState<UserRecord[]>([]);\n  const [filteredUsers, setFilteredUsers] = useState<UserRecord[]>([]);\n  const [stats, setStats] = useState<UserStats>({\n    totalUsers: 0,\n    totalProviders: 0,\n    totalAdmins: 0,\n    activeUsers: 0,\n    inactiveUsers: 0,\n  });\n  const [selectedUsers, setSelectedUsers] = useState<Set<string>>(new Set());\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [statusFilter, setStatusFilter] = useState<\n    \"all\" | \"active\" | \"inactive\"\n  >(\"all\");\n  const [roleFilter, setRoleFilter] = useState<\"all\" | \"provider\" | \"admin\">(\n    \"all\"\n  );\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [showUserForm, setShowUserForm] = useState(false);\n  const [editingUser, setEditingUser] = useState<UserRecord | null>(null);\n  const [formMode, setFormMode] = useState<\"create\" | \"edit\">(\"create\");\n\n  useEffect(() => {\n    loadUsers();\n  }, []);\n\n  useEffect(() => {\n    filterUsers();\n  }, [users, searchTerm, statusFilter, roleFilter]);\n\n  const loadUsers = async () => {\n    try {\n      setIsLoading(true);\n      setError(null);\n\n      const [usersData, statsData] = await Promise.all([\n        getAllUsers(),\n        getUserStats(),\n      ]);\n\n      setUsers(usersData);\n      setStats(statsData);\n    } catch (error) {\n      console.error(\"Error loading users:\", error);\n      setError(\"Failed to load users. Please try again.\");\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const filterUsers = () => {\n    let filtered = [...users];\n\n    // Apply search filter\n    if (searchTerm) {\n      const searchLower = searchTerm.toLowerCase();\n      filtered = filtered.filter(\n        (user) =>\n          user.email?.toLowerCase().includes(searchLower) ||\n          user.displayName?.toLowerCase().includes(searchLower)\n      );\n    }\n\n    // Apply status filter\n    if (statusFilter !== \"all\") {\n      filtered = filtered.filter((user) =>\n        statusFilter === \"active\" ? user.isActive : !user.isActive\n      );\n    }\n\n    // Apply role filter\n    if (roleFilter !== \"all\") {\n      filtered = filtered.filter((user) => user.role === roleFilter);\n    }\n\n    setFilteredUsers(filtered);\n  };\n\n  const handleSearch = async (term: string) => {\n    setSearchTerm(term);\n    if (term.trim()) {\n      try {\n        const searchResults = await searchUsers(term);\n        setFilteredUsers(searchResults);\n      } catch (error) {\n        console.error(\"Error searching users:\", error);\n      }\n    }\n  };\n\n  const handleUserRoleChange = async (\n    userId: string,\n    newRole: \"provider\" | \"admin\"\n  ) => {\n    try {\n      await updateUserRole(userId, newRole);\n      await loadUsers(); // Reload to get fresh data\n    } catch (error) {\n      console.error(\"Error updating user role:\", error);\n      setError(\"Failed to update user role\");\n    }\n  };\n\n  const handleUserStatusToggle = async (\n    userId: string,\n    currentStatus: boolean\n  ) => {\n    try {\n      await toggleUserStatus(userId, !currentStatus);\n      await loadUsers(); // Reload to get fresh data\n    } catch (error) {\n      console.error(\"Error updating user status:\", error);\n      setError(\"Failed to update user status\");\n    }\n  };\n\n  const handleCreateUser = () => {\n    setEditingUser(null);\n    setFormMode(\"create\");\n    setShowUserForm(true);\n  };\n\n  const handleEditUser = (user: UserRecord) => {\n    setEditingUser(user);\n    setFormMode(\"edit\");\n    setShowUserForm(true);\n  };\n\n  const handleCloseForm = () => {\n    setShowUserForm(false);\n    setEditingUser(null);\n  };\n\n  const handleSaveUser = async () => {\n    await loadUsers(); // Reload users after saving\n  };\n\n  const handleUserSelection = (userId: string, checked: boolean) => {\n    const newSelected = new Set(selectedUsers);\n    if (checked) {\n      newSelected.add(userId);\n    } else {\n      newSelected.delete(userId);\n    }\n    setSelectedUsers(newSelected);\n  };\n\n  const handleSelectAll = () => {\n    if (selectedUsers.size === filteredUsers.length) {\n      setSelectedUsers(new Set());\n    } else {\n      setSelectedUsers(new Set(filteredUsers.map((user) => user.id)));\n    }\n  };\n\n  const handleBulkStatusToggle = async (isActive: boolean) => {\n    try {\n      await bulkUpdateUserStatus(Array.from(selectedUsers), isActive);\n      setSelectedUsers(new Set());\n      await loadUsers();\n    } catch (error) {\n      console.error(\"Error bulk updating user status:\", error);\n      setError(\"Failed to update users\");\n    }\n  };\n\n  const handleBulkDelete = async () => {\n    if (\n      confirm(\n        `Are you sure you want to delete ${selectedUsers.size} users? This action cannot be undone.`\n      )\n    ) {\n      try {\n        await bulkDeleteUsers(Array.from(selectedUsers));\n        setSelectedUsers(new Set());\n        await loadUsers();\n      } catch (error) {\n        console.error(\"Error bulk deleting users:\", error);\n        setError(\"Failed to delete users\");\n      }\n    }\n  };\n\n  const exportToCSV = () => {\n    const csvContent = [\n      [\n        \"Email\",\n        \"Display Name\",\n        \"Role\",\n        \"Status\",\n        \"Assigned Schools\",\n        \"Created At\",\n        \"Last Sign In\",\n      ].join(\",\"),\n      ...filteredUsers.map((user) =>\n        [\n          user.email || \"\",\n          user.displayName || \"\",\n          user.role,\n          user.isActive ? \"Active\" : \"Inactive\",\n          user.assignedSchools?.length || 0,\n          user.createdAt?.toDate?.()?.toLocaleDateString() || \"\",\n          user.lastSignIn?.toDate?.()?.toLocaleDateString() || \"Never\",\n        ].join(\",\")\n      ),\n    ].join(\"\\n\");\n\n    const blob = new Blob([csvContent], { type: \"text/csv\" });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `users-export-${new Date().toISOString().split(\"T\")[0]}.csv`;\n    a.click();\n    window.URL.revokeObjectURL(url);\n  };\n\n  const getRoleBadgeVariant = (role: string) => {\n    return role === \"admin\" ? \"destructive\" : \"secondary\";\n  };\n\n  const getStatusBadgeVariant = (isActive: boolean) => {\n    return isActive ? \"default\" : \"secondary\";\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center justify-between\">\n          <h1 className=\"text-3xl font-bold\">User Management</h1>\n        </div>\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n          {[...Array(4)].map((_, i) => (\n            <Card key={i} className=\"animate-pulse\">\n              <CardHeader className=\"pb-2\">\n                <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n              </CardHeader>\n              <CardContent>\n                <div className=\"h-8 bg-gray-200 rounded w-1/2\"></div>\n              </CardContent>\n            </Card>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold\">User Management</h1>\n          <p className=\"text-muted-foreground\">\n            Manage user accounts and role assignments\n          </p>\n        </div>\n        <Button onClick={handleCreateUser}>\n          <UserPlus className=\"h-4 w-4 mr-2\" />\n          Add User\n        </Button>\n      </div>\n\n      {error && (\n        <Alert variant=\"destructive\">\n          <AlertDescription>{error}</AlertDescription>\n        </Alert>\n      )}\n\n      {/* Statistics Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\n        <div className=\"bg-white p-4 rounded-lg border\">\n          <div className=\"text-2xl font-bold text-gray-900\">\n            {stats.totalUsers}\n          </div>\n          <div className=\"text-sm text-gray-600\">Total Users</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg border\">\n          <div className=\"text-2xl font-bold text-brand-primary\">\n            {stats.totalProviders}\n          </div>\n          <div className=\"text-sm text-gray-600\">Providers</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg border\">\n          <div className=\"text-2xl font-bold text-purple-600\">\n            {stats.totalAdmins}\n          </div>\n          <div className=\"text-sm text-gray-600\">Admins</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg border\">\n          <div className=\"text-2xl font-bold text-green-600\">\n            {stats.activeUsers}\n          </div>\n          <div className=\"text-sm text-gray-600\">Active</div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg border\">\n          <div className=\"text-2xl font-bold text-red-600\">\n            {stats.inactiveUsers}\n          </div>\n          <div className=\"text-sm text-gray-600\">Inactive</div>\n        </div>\n      </div>\n\n      {/* Filters and Search */}\n      <div className=\"flex flex-col sm:flex-row gap-4 items-center justify-between\">\n        <div className=\"flex items-center space-x-4 flex-1\">\n          <div className=\"relative flex-1 max-w-md\">\n            <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4\" />\n            <Input\n              placeholder=\"Search users by name or email...\"\n              value={searchTerm}\n              onChange={(e) => handleSearch(e.target.value)}\n              className=\"pl-10\"\n            />\n          </div>\n\n          <select\n            value={statusFilter}\n            onChange={(e) => setStatusFilter(e.target.value as any)}\n            className=\"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"all\">All Status</option>\n            <option value=\"active\">Active</option>\n            <option value=\"inactive\">Inactive</option>\n          </select>\n\n          <select\n            value={roleFilter}\n            onChange={(e) => setRoleFilter(e.target.value as any)}\n            className=\"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          >\n            <option value=\"all\">All Roles</option>\n            <option value=\"provider\">Providers</option>\n            <option value=\"admin\">Admins</option>\n          </select>\n\n          <Button variant=\"outline\" onClick={exportToCSV}>\n            <Download className=\"h-4 w-4 mr-2\" />\n            Export CSV\n          </Button>\n        </div>\n      </div>\n\n      {/* Bulk Actions */}\n      {selectedUsers.size > 0 && (\n        <div className=\"flex items-center justify-between p-4 status-brand border rounded-lg\">\n          <div className=\"flex items-center space-x-4\">\n            <span className=\"text-sm font-medium text-brand-primary\">\n              {selectedUsers.size} users selected\n            </span>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => handleBulkStatusToggle(true)}\n              disabled={isLoading}\n            >\n              <UserCheck className=\"h-4 w-4 mr-2\" />\n              Activate\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={() => handleBulkStatusToggle(false)}\n              disabled={isLoading}\n            >\n              <UserX className=\"h-4 w-4 mr-2\" />\n              Deactivate\n            </Button>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleBulkDelete}\n              disabled={isLoading}\n              className=\"text-red-600 hover:text-red-700\"\n            >\n              <Trash2 className=\"h-4 w-4 mr-2\" />\n              Delete\n            </Button>\n          </div>\n          <Button\n            variant=\"ghost\"\n            size=\"sm\"\n            onClick={() => setSelectedUsers(new Set())}\n          >\n            Clear Selection\n          </Button>\n        </div>\n      )}\n\n      {/* Users List */}\n      <div className=\"bg-white rounded-lg border\">\n        <div className=\"p-4 border-b border-gray-200\">\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"text-lg font-semibold\">\n              Users ({filteredUsers.length})\n            </h2>\n            <Button\n              variant=\"outline\"\n              size=\"sm\"\n              onClick={handleSelectAll}\n              className=\"flex items-center\"\n            >\n              {selectedUsers.size === filteredUsers.length ? (\n                <CheckSquare className=\"h-4 w-4 mr-2\" />\n              ) : (\n                <Square className=\"h-4 w-4 mr-2\" />\n              )}\n              Select All\n            </Button>\n          </div>\n        </div>\n\n        <div className=\"divide-y divide-gray-200\">\n          {filteredUsers.map((user) => (\n            <div key={user.id} className=\"p-4 hover:bg-gray-50\">\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center space-x-4\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedUsers.has(user.id)}\n                    onChange={(e) =>\n                      handleUserSelection(user.id, e.target.checked)\n                    }\n                    className=\"rounded border-gray-300 text-brand-primary focus:ring-brand-primary\"\n                  />\n\n                  <div className=\"flex-shrink-0\">\n                    <div className=\"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center\">\n                      {user.photoURL ? (\n                        <OptimizedAvatar\n                          src={user.photoURL}\n                          alt={user.displayName || \"User\"}\n                          size={40}\n                          fallback={<Users className=\"h-5 w-5 text-gray-600\" />}\n                        />\n                      ) : (\n                        <Users className=\"h-5 w-5 text-gray-600\" />\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center space-x-2\">\n                      <p className=\"text-sm font-medium text-gray-900 truncate\">\n                        {user.displayName || \"No name\"}\n                      </p>\n                      <Badge variant={getRoleBadgeVariant(user.role)}>\n                        {user.role}\n                      </Badge>\n                      <Badge variant={getStatusBadgeVariant(user.isActive)}>\n                        {user.isActive ? \"Active\" : \"Inactive\"}\n                      </Badge>\n                    </div>\n                    <div className=\"flex items-center space-x-4 mt-1\">\n                      <p className=\"text-sm text-gray-500 flex items-center\">\n                        <Mail className=\"h-3 w-3 mr-1\" />\n                        {user.email}\n                      </p>\n                      {user.assignedSchools &&\n                        user.assignedSchools.length > 0 && (\n                          <p className=\"text-sm text-gray-500\">\n                            {user.assignedSchools.length} schools assigned\n                          </p>\n                        )}\n                      <p className=\"text-sm text-gray-500 flex items-center\">\n                        <Calendar className=\"h-3 w-3 mr-1\" />\n                        Joined{\" \"}\n                        {user.createdAt?.toDate?.()?.toLocaleDateString() ||\n                          \"Unknown\"}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                <div className=\"flex items-center space-x-2\">\n                  <select\n                    value={user.role}\n                    onChange={(e) =>\n                      handleUserRoleChange(user.id, e.target.value as any)\n                    }\n                    className=\"text-sm border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"provider\">Provider</option>\n                    <option value=\"admin\">Admin</option>\n                  </select>\n\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() =>\n                      handleUserStatusToggle(user.id, user.isActive)\n                    }\n                    className={\n                      user.isActive ? \"text-red-600\" : \"text-green-600\"\n                    }\n                  >\n                    {user.isActive ? (\n                      <UserX className=\"h-4 w-4 mr-1\" />\n                    ) : (\n                      <UserCheck className=\"h-4 w-4 mr-1\" />\n                    )}\n                    {user.isActive ? \"Deactivate\" : \"Activate\"}\n                  </Button>\n\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => handleEditUser(user)}\n                  >\n                    <Edit className=\"h-4 w-4 mr-1\" />\n                    Edit\n                  </Button>\n\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"text-red-600 hover:text-red-700\"\n                  >\n                    <Trash2 className=\"h-4 w-4\" />\n                  </Button>\n                </div>\n              </div>\n            </div>\n          ))}\n\n          {filteredUsers.length === 0 && (\n            <div className=\"p-8 text-center\">\n              <Users className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\n              <p className=\"text-gray-500\">\n                No users found matching your criteria\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* User Form Modal */}\n      <UserForm\n        user={editingUser}\n        isOpen={showUserForm}\n        onClose={handleCloseForm}\n        onSave={handleSaveUser}\n        mode={formMode}\n      />\n    </div>\n  );\n}\n\nexport default function UserManagementPage() {\n  return (\n    <ProtectedRoute roles={[\"admin\"]}>\n      <AdminNavigation>\n        <UserManagementContent />\n      </AdminNavigation>\n    </ProtectedRoute>\n  );\n}\n","import * as origModule from 'next/dist/client/components/request-async-storage.external.js';\nimport * as serverComponentModule from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nexport * from '__SENTRY_WRAPPING_TARGET_FILE__.cjs';\nimport * as Sentry from '@sentry/nextjs';\n\n// @ts-expect-error Because we cannot be sure if the RequestAsyncStorage module exists (it is not part of the Next.js public\n// API) we use a shim if it doesn't exist. The logic for this is in the wrapping loader.\n\nconst asyncStorageModule = { ...origModule } ;\n\nconst requestAsyncStorage =\n  'workUnitAsyncStorage' in asyncStorageModule\n    ? asyncStorageModule.workUnitAsyncStorage\n    : 'requestAsyncStorage' in asyncStorageModule\n      ? asyncStorageModule.requestAsyncStorage\n      : undefined;\n\nconst serverComponent = serverComponentModule.default;\n\nlet wrappedServerComponent;\nif (typeof serverComponent === 'function') {\n  // For some odd Next.js magic reason, `headers()` will not work if used inside `wrapServerComponentsWithSentry`.\n  // Current assumption is that Next.js applies some loader magic to userfiles, but not files in node_modules. This file\n  // is technically a userfile so it gets the loader magic applied.\n  wrappedServerComponent = new Proxy(serverComponent, {\n    apply: (originalFunction, thisArg, args) => {\n      let sentryTraceHeader = undefined;\n      let baggageHeader = undefined;\n      let headers = undefined;\n\n      // We try-catch here just in `requestAsyncStorage` is undefined since it may not be defined\n      try {\n        const requestAsyncStore = requestAsyncStorage?.getStore() ;\n        sentryTraceHeader = requestAsyncStore?.headers.get('sentry-trace') ?? undefined;\n        baggageHeader = requestAsyncStore?.headers.get('baggage') ?? undefined;\n        headers = requestAsyncStore?.headers;\n      } catch {\n        /** empty */\n      }\n\n      return Sentry.wrapServerComponentWithSentry(originalFunction, {\n        componentRoute: '/admin/users',\n        componentType: 'Page',\n        sentryTraceHeader,\n        baggageHeader,\n        headers,\n      }).apply(thisArg, args);\n    },\n  });\n} else {\n  wrappedServerComponent = serverComponent;\n}\n\nconst generateMetadata = serverComponentModule.generateMetadata\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateMetadata, {\n      componentRoute: '/admin/users',\n      componentType: 'Page',\n      generationFunctionIdentifier: 'generateMetadata',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst generateImageMetadata = serverComponentModule.generateImageMetadata\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateImageMetadata, {\n      componentRoute: '/admin/users',\n      componentType: 'Page',\n      generationFunctionIdentifier: 'generateImageMetadata',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst generateViewport = serverComponentModule.generateViewport\n  ? Sentry.wrapGenerationFunctionWithSentry(serverComponentModule.generateViewport, {\n      componentRoute: '/admin/users',\n      componentType: 'Page',\n      generationFunctionIdentifier: 'generateViewport',\n      requestAsyncStorage,\n    })\n  : undefined;\n\nconst wrappedServerComponent$1 = wrappedServerComponent;\n\nexport { wrappedServerComponent$1 as default, generateImageMetadata, generateMetadata, generateViewport };\n","import \"/Users/arthurturnbull/Developer/schools-in/src/app/admin/users/page.tsx\";\nimport \"/Users/arthurturnbull/Developer/schools-in/src/app/admin/error.tsx\";\nimport \"/Users/arthurturnbull/Developer/schools-in/src/app/layout.tsx\";\nimport \"/Users/arthurturnbull/Developer/schools-in/src/app/error.tsx\";\nimport \"/Users/arthurturnbull/Developer/schools-in/src/app/not-found.tsx\";\"TURBOPACK { transition: next-ssr }\";\nimport { AppPageRouteModule } from \"next/dist/server/future/route-modules/app-page/module.compiled\";\nimport { RouteKind } from \"next/dist/server/future/route-kind\";\n// We inject the tree and pages here so that we can use them in the route\n// module.\nconst tree = {\n        children: [\n        '',\n        {\n        children: [\n        'admin',\n        {\n        children: [\n        'users',\n        {\n        children: ['__PAGE__', {}, {\n          page: [() => import(/* webpackMode: \"eager\" */ \"/Users/arthurturnbull/Developer/schools-in/src/app/admin/users/page.tsx\"), \"/Users/arthurturnbull/Developer/schools-in/src/app/admin/users/page.tsx\"],\n          \n        }]\n      },\n        {\n        \n        \n      }\n      ]\n      },\n        {\n        'error': [() => import(/* webpackMode: \"eager\" */ \"/Users/arthurturnbull/Developer/schools-in/src/app/admin/error.tsx\"), \"/Users/arthurturnbull/Developer/schools-in/src/app/admin/error.tsx\"],\n        \n      }\n      ]\n      },\n        {\n        'layout': [() => import(/* webpackMode: \"eager\" */ \"/Users/arthurturnbull/Developer/schools-in/src/app/layout.tsx\"), \"/Users/arthurturnbull/Developer/schools-in/src/app/layout.tsx\"],\n'error': [() => import(/* webpackMode: \"eager\" */ \"/Users/arthurturnbull/Developer/schools-in/src/app/error.tsx\"), \"/Users/arthurturnbull/Developer/schools-in/src/app/error.tsx\"],\n'not-found': [() => import(/* webpackMode: \"eager\" */ \"/Users/arthurturnbull/Developer/schools-in/src/app/not-found.tsx\"), \"/Users/arthurturnbull/Developer/schools-in/src/app/not-found.tsx\"],\n        \n      }\n      ]\n      }.children;\nconst pages = [\"/Users/arthurturnbull/Developer/schools-in/src/app/admin/users/page.tsx\"];\nexport { tree, pages };\nexport { default as GlobalError } from \"next/dist/client/components/error-boundary\";\nconst __next_app_require__ = __webpack_require__\nconst __next_app_load_chunk__ = () => Promise.resolve()\nexport const originalPathname = \"/admin/users/page\";\nexport const __next_app__ = {\n    require: __next_app_require__,\n    loadChunk: __next_app_load_chunk__\n};\nexport * from \"next/dist/server/app-render/entry-base\";\n// Create and export the route module that will be consumed.\nexport const routeModule = new AppPageRouteModule({\n    definition: {\n        kind: RouteKind.APP_PAGE,\n        page: \"/admin/users/page\",\n        pathname: \"/admin/users\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\",\n        appPaths: []\n    },\n    userland: {\n        loaderTree: tree\n    }\n});\n\n//# sourceMappingURL=app-page.js.map","import(/* webpackMode: \"eager\" */ \"/Users/arthurturnbull/Developer/schools-in/src/app/admin/users/page.tsx\");\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n];\n\n/**\n * @component @name Calendar\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/calendar\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Calendar = createLucideIcon('calendar', __iconNode);\n\nexport default Calendar;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7', key: '132q7q' }],\n  ['rect', { x: '2', y: '4', width: '20', height: '16', rx: '2', key: 'izxlao' }],\n];\n\n/**\n * @component @name Mail\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgNy04Ljk5MSA1LjcyN2EyIDIgMCAwIDEtMi4wMDkgMEwyIDciIC8+CiAgPHJlY3QgeD0iMiIgeT0iNCIgd2lkdGg9IjIwIiBoZWlnaHQ9IjE2IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/mail\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Mail = createLucideIcon('mail', __iconNode);\n\nexport default Mail;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    { d: 'M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344', key: '2acyp4' },\n  ],\n  ['path', { d: 'm9 11 3 3L22 4', key: '1pflzl' }],\n];\n\n/**\n * @component @name SquareCheckBig\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTAuNjU2VjE5YTIgMiAwIDAgMS0yIDJINWEyIDIgMCAwIDEtMi0yVjVhMiAyIDAgMCAxIDItMmgxMi4zNDQiIC8+CiAgPHBhdGggZD0ibTkgMTEgMyAzTDIyIDQiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/square-check-big\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SquareCheckBig = createLucideIcon('square-check-big', __iconNode);\n\nexport default SquareCheckBig;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7', key: '1m0v6g' }],\n  [\n    'path',\n    {\n      d: 'M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z',\n      key: 'ohrbg2',\n    },\n  ],\n];\n\n/**\n * @component @name SquarePen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgM0g1YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0ydi03IiAvPgogIDxwYXRoIGQ9Ik0xOC4zNzUgMi42MjVhMSAxIDAgMCAxIDMgM2wtOS4wMTMgOS4wMTRhMiAyIDAgMCAxLS44NTMuNTA1bC0yLjg3My44NGEuNS41IDAgMCAxLS42Mi0uNjJsLjg0LTIuODczYTIgMiAwIDAgMSAuNTA2LS44NTJ6IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/square-pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SquarePen = createLucideIcon('square-pen', __iconNode);\n\nexport default SquarePen;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', key: 'afitv7' }],\n];\n\n/**\n * @component @name Square\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Square = createLucideIcon('square', __iconNode);\n\nexport default Square;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 11v6', key: 'nco0om' }],\n  ['path', { d: 'M14 11v6', key: 'outv1u' }],\n  ['path', { d: 'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6', key: 'miytrc' }],\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2', key: 'e791ji' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTQgMTF2NiIgLz4KICA8cGF0aCBkPSJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2IiAvPgogIDxwYXRoIGQ9Ik0zIDZoMTgiIC8+CiAgPHBhdGggZD0iTTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('trash-2', __iconNode);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm16 11 2 2 4-4', key: '9rsbq5' }],\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n];\n\n/**\n * @component @name UserCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTYgMTEgMiAyIDQtNCIgLz4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/user-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserCheck = createLucideIcon('user-check', __iconNode);\n\nexport default UserCheck;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2', key: '1yyitq' }],\n  ['circle', { cx: '9', cy: '7', r: '4', key: 'nufk8' }],\n  ['line', { x1: '19', x2: '19', y1: '8', y2: '14', key: '1bvyxn' }],\n  ['line', { x1: '22', x2: '16', y1: '11', y2: '11', key: '1shjgl' }],\n];\n\n/**\n * @component @name UserPlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjF2LTJhNCA0IDAgMCAwLTQtNEg2YTQgNCAwIDAgMC00IDR2MiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iNyIgcj0iNCIgLz4KICA8bGluZSB4MT0iMTkiIHgyPSIxOSIgeTE9IjgiIHkyPSIxNCIgLz4KICA8bGluZSB4MT0iMjIiIHgyPSIxNiIgeTE9IjExIiB5Mj0iMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/user-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst UserPlus = createLucideIcon('user-plus', __iconNode);\n\nexport default UserPlus;\n","import * as React from \"react\";\nimport {\n  AlertCircle,\n  RefreshCw,\n  Wifi,\n  WifiOff,\n  School,\n  Users,\n  FileText,\n  Search,\n  MapPin,\n  Clock,\n} from \"lucide-react\";\nimport { Button } from \"./button\";\nimport { Alert, AlertDescription, AlertTitle } from \"./alert\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"./card\";\n\ninterface ErrorStateProps {\n  title?: string;\n  message?: string;\n  actionLabel?: string;\n  onAction?: () => void;\n  type?: \"generic\" | \"network\" | \"auth\" | \"location\" | \"permission\";\n  showRetry?: boolean;\n  className?: string;\n}\n\nexport function ErrorState({\n  title,\n  message,\n  actionLabel = \"Try Again\",\n  onAction,\n  type = \"generic\",\n  showRetry = true,\n  className = \"\",\n}: ErrorStateProps) {\n  const getErrorConfig = () => {\n    switch (type) {\n      case \"network\":\n        return {\n          icon: WifiOff,\n          defaultTitle: \"Connection Error\",\n          defaultMessage:\n            \"Unable to connect to the server. Please check your internet connection and try again.\",\n          iconColor: \"text-red-500\",\n        };\n      case \"auth\":\n        return {\n          icon: AlertCircle,\n          defaultTitle: \"Authentication Error\",\n          defaultMessage:\n            \"You need to be signed in to access this feature. Please sign in and try again.\",\n          iconColor: \"text-orange-500\",\n        };\n      case \"location\":\n        return {\n          icon: MapPin,\n          defaultTitle: \"Location Error\",\n          defaultMessage:\n            \"Unable to access your location. Please enable location services and try again.\",\n          iconColor: \"text-blue-500\",\n        };\n      case \"permission\":\n        return {\n          icon: AlertCircle,\n          defaultTitle: \"Permission Denied\",\n          defaultMessage:\n            \"You don't have permission to access this feature. Please contact your administrator.\",\n          iconColor: \"text-red-500\",\n        };\n      default:\n        return {\n          icon: AlertCircle,\n          defaultTitle: \"Something went wrong\",\n          defaultMessage: \"An unexpected error occurred. Please try again.\",\n          iconColor: \"text-red-500\",\n        };\n    }\n  };\n\n  const config = getErrorConfig();\n  const Icon = config.icon;\n\n  return (\n    <Card className={`text-center ${className}`}>\n      <CardContent className=\"pt-6\">\n        <div className=\"flex flex-col items-center space-y-4\">\n          <Icon className={`h-12 w-12 ${config.iconColor}`} />\n          <div className=\"space-y-2\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">\n              {title || config.defaultTitle}\n            </h3>\n            <p className=\"text-sm text-gray-600 max-w-sm\">\n              {message || config.defaultMessage}\n            </p>\n          </div>\n          {showRetry && onAction && (\n            <Button onClick={onAction} variant=\"outline\" className=\"mt-4\">\n              <RefreshCw className=\"h-4 w-4 mr-2\" />\n              {actionLabel}\n            </Button>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\ninterface EmptyStateProps {\n  title?: string;\n  message?: string;\n  actionLabel?: string;\n  onAction?: () => void;\n  type?:\n    | \"schools\"\n    | \"sessions\"\n    | \"users\"\n    | \"search\"\n    | \"assignments\"\n    | \"reports\"\n    | \"generic\";\n  showAction?: boolean;\n  className?: string;\n}\n\nexport function EmptyState({\n  title,\n  message,\n  actionLabel = \"Get Started\",\n  onAction,\n  type = \"generic\",\n  showAction = true,\n  className = \"\",\n}: EmptyStateProps) {\n  const getEmptyConfig = () => {\n    switch (type) {\n      case \"schools\":\n        return {\n          icon: School,\n          defaultTitle: \"No schools assigned\",\n          defaultMessage:\n            \"You don't have any schools assigned yet. Contact your administrator to get started.\",\n          defaultAction: \"Contact Support\",\n          iconColor: \"text-blue-500\",\n        };\n      case \"sessions\":\n        return {\n          icon: Clock,\n          defaultTitle: \"No sessions found\",\n          defaultMessage:\n            \"No check-in sessions have been recorded yet. Start your first session to see it here.\",\n          defaultAction: \"Start Session\",\n          iconColor: \"text-green-500\",\n        };\n      case \"users\":\n        return {\n          icon: Users,\n          defaultTitle: \"No users found\",\n          defaultMessage:\n            \"No users match your current filters. Try adjusting your search criteria.\",\n          defaultAction: \"Clear Filters\",\n          iconColor: \"text-purple-500\",\n        };\n      case \"search\":\n        return {\n          icon: Search,\n          defaultTitle: \"No results found\",\n          defaultMessage:\n            \"We couldn't find anything matching your search. Try different keywords or check your spelling.\",\n          defaultAction: \"Clear Search\",\n          iconColor: \"text-gray-500\",\n        };\n      case \"assignments\":\n        return {\n          icon: FileText,\n          defaultTitle: \"No assignments\",\n          defaultMessage:\n            \"No assignments have been created yet. Create your first assignment to get started.\",\n          defaultAction: \"Create Assignment\",\n          iconColor: \"text-indigo-500\",\n        };\n      case \"reports\":\n        return {\n          icon: FileText,\n          defaultTitle: \"No reports available\",\n          defaultMessage:\n            \"No reports are available for the selected criteria. Try adjusting your filters.\",\n          defaultAction: \"Clear Filters\",\n          iconColor: \"text-orange-500\",\n        };\n      default:\n        return {\n          icon: FileText,\n          defaultTitle: \"Nothing here yet\",\n          defaultMessage:\n            \"This section is empty. Start by adding some content.\",\n          defaultAction: \"Get Started\",\n          iconColor: \"text-gray-500\",\n        };\n    }\n  };\n\n  const config = getEmptyConfig();\n  const Icon = config.icon;\n\n  return (\n    <Card className={`text-center ${className}`}>\n      <CardContent className=\"pt-6\">\n        <div className=\"flex flex-col items-center space-y-4\">\n          <Icon className={`h-12 w-12 ${config.iconColor}`} />\n          <div className=\"space-y-2\">\n            <h3 className=\"text-lg font-semibold text-gray-900\">\n              {title || config.defaultTitle}\n            </h3>\n            <p className=\"text-sm text-gray-600 max-w-sm\">\n              {message || config.defaultMessage}\n            </p>\n          </div>\n          {showAction && onAction && (\n            <Button onClick={onAction} className=\"mt-4\">\n              {actionLabel || config.defaultAction}\n            </Button>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\n// Compact versions for smaller spaces\nexport function CompactErrorState({\n  message = \"Something went wrong\",\n  onRetry,\n  className = \"\",\n}: {\n  message?: string;\n  onRetry?: () => void;\n  className?: string;\n}) {\n  return (\n    <Alert variant=\"destructive\" className={className}>\n      <AlertCircle className=\"h-4 w-4\" />\n      <AlertTitle>Error</AlertTitle>\n      <AlertDescription className=\"flex items-center justify-between\">\n        <span>{message}</span>\n        {onRetry && (\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={onRetry}\n            className=\"ml-2 h-7\"\n          >\n            <RefreshCw className=\"h-3 w-3 mr-1\" />\n            Retry\n          </Button>\n        )}\n      </AlertDescription>\n    </Alert>\n  );\n}\n\nexport function CompactEmptyState({\n  message = \"Nothing to show\",\n  className = \"\",\n}: {\n  message?: string;\n  className?: string;\n}) {\n  return (\n    <div className={`text-center py-8 text-gray-500 ${className}`}>\n      <p className=\"text-sm\">{message}</p>\n    </div>\n  );\n}\n\n// Network status component\nexport function NetworkStatus({ isOnline }: { isOnline: boolean }) {\n  if (isOnline) return null;\n\n  return (\n    <Alert variant=\"destructive\" className=\"mb-4\">\n      <WifiOff className=\"h-4 w-4\" />\n      <AlertTitle>You're offline</AlertTitle>\n      <AlertDescription>\n        Some features may be limited while you're offline. Changes will sync\n        when connection is restored.\n      </AlertDescription>\n    </Alert>\n  );\n}\n"],"names":["module","exports","require","UserX","createLucideIcon","d","key","cx","cy","r","x1","x2","y1","y2","getAllUsers","filters","q","query","collection","db","COLLECTIONS","USERS","orderBy","role","where","isActive","undefined","querySnapshot","getDocs","docs","map","id","doc","data","error","console","updateUserRole","userId","userRef","updateDoc","updatedAt","Timestamp","now","toggleUserStatus","updateUserProfile","bulkUpdateUserStatus","userIds","batch","writeBatch","timestamp","forEach","update","commit","bulkDeleteUsers","delete","getUserStats","users","usersSnapshot","totalUsers","length","totalProviders","filter","user","totalAdmins","activeUsers","inactiveUsers","searchUsers","searchTerm","searchLower","toLowerCase","email","includes","displayName","UserForm","isOpen","onClose","onSave","mode","schools","setSchools","useState","isLoading","setIsLoading","formData","setFormData","assignedSchools","handleSchoolToggle","updated","schoolId","prev","handleSubmit","e","preventDefault","log","getSchoolName","school","find","s","name","react_jsx_runtime","jsx","Dialog","open","onOpenChange","jsxs","DialogContent","className","DialogHeader","DialogTitle","DialogDescription","form","onSubmit","div","label","Input","placeholder","value","onChange","target","required","type","disabled","p","select","option","input","checked","Badge","variant","Button","size","onClick","X","htmlFor","address","CompactEmptyState","message","DialogFooter","UserManagementContent","setUsers","filteredUsers","setFilteredUsers","stats","setStats","selectedUsers","setSelectedUsers","Set","setSearchTerm","statusFilter","setStatusFilter","roleFilter","setRoleFilter","setError","showUserForm","setShowUserForm","editingUser","setEditingUser","formMode","setFormMode","loadUsers","usersData","statsData","Promise","all","handleSearch","term","trim","searchResults","handleUserRoleChange","newRole","handleUserStatusToggle","currentStatus","handleEditUser","handleSaveUser","handleUserSelection","newSelected","add","handleBulkStatusToggle","Array","from","handleBulkDelete","confirm","getRoleBadgeVariant","getStatusBadgeVariant","h1","_","i","Card","CardHeader","CardContent","UserPlus","Alert","AlertDescription","Search","blob","Blob","createdAt","toDate","toLocaleDateString","lastSignIn","join","url","window","URL","createObjectURL","a","document","createElement","href","download","Date","toISOString","split","click","revokeObjectURL","Download","span","UserCheck","Trash2","h2","CheckSquare","Square","has","photoURL","OptimizedAvatar","src","alt","fallback","Users","Mail","Calendar","Edit","UserManagementPage","ProtectedRoute","roles","AdminNavigation","wrappedServerComponent","asyncStorageModule","next_dist_client_components_request_async_storage_external_js__WEBPACK_IMPORTED_MODULE_0__","requestAsyncStorage","workUnitAsyncStorage","serverComponentModule.default","Proxy","apply","originalFunction","thisArg","args","sentryTraceHeader","baggageHeader","headers","requestAsyncStore","getStore","get","_sentry_nextjs__WEBPACK_IMPORTED_MODULE_2__","wrapServerComponentWithSentry","componentRoute","componentType","generateMetadata","generateImageMetadata","generateViewport","wrappedServerComponent$1","tree","children","page","resolve","then","__webpack_require__","bind","pages","originalPathname","__next_app__","loadChunk","routeModule","next_dist_server_future_route_modules_app_page_module_compiled__WEBPACK_IMPORTED_MODULE_5__","AppPageRouteModule","definition","kind","next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_6__","x","APP_PAGE","pathname","bundlePath","filename","appPaths","userland","loaderTree","width","height","y","rx","SquareCheckBig","SquarePen","ErrorState","title","actionLabel","onAction","showRetry","config","getErrorConfig","icon","WifiOff","defaultTitle","defaultMessage","iconColor","AlertCircle","MapPin","Icon","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","h3","RefreshCw","EmptyState","showAction","getEmptyConfig","School","defaultAction","Clock","FileText","CompactErrorState","onRetry","AlertTitle"],"sourceRoot":""}